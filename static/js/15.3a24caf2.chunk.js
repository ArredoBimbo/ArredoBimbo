(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[15],{552:function(t,e,a){"use strict";a.d(e,"k",(function(){return r})),a.d(e,"d",(function(){return u})),a.d(e,"b",(function(){return l})),a.d(e,"i",(function(){return m})),a.d(e,"f",(function(){return d})),a.d(e,"c",(function(){return f})),a.d(e,"e",(function(){return h})),a.d(e,"h",(function(){return j})),a.d(e,"j",(function(){return g})),a.d(e,"a",(function(){return p})),a.d(e,"g",(function(){return b})),a.d(e,"l",(function(){return x}));var n=a(603),o=a.n(n),i=a(22),c=a(571),s=a.n(c),r=function(t,e,a,n){o.a.post(i.d+"/uploadFoto",{url:a,id:t,indice:e}).then((function(t){n(t.data)})).catch((function(t){console.log(t)}))},u=function(t){o.a.get(i.d+"/lista-prodotti-dashboard").then((function(e){s.a.set("lista_prodotti",e.data),t(e.data)})).catch((function(t){console.log(t)}))},l=function(t,e){o.a.get(i.d+"/lista-acquisti").then((function(a){for(var n=[],o=0;o<a.data.length;o++)for(var i=0;i<t.length;i++)t[i].idArticolo==a.data[o].idArticoloAcquistato&&(n.push({id:a.data[o].idAcquisto,name:a.data[o].nome+" "+a.data[o].cognome,image:"",date:a.data[o].dataAcquisto.split("T")[0],amount:a.data[o].totalePrezzo,numeroacquisti:a.data[o].numeroAcquisti,orderStatus:a.data[o].stato,colore:t[i].coloriDisp[a.data[o].indiceColore].color,nomearticolo:a.data[o].nomeArticolo,articoloCompleto:a.data[o],tracking:a.data[o].nrtracking,idordine:a.data[o].idordine}),o==a.data.length-1&&e(n))})).catch((function(t){console.log(t)}))},d=function(t,e){o.a.post(i.d+"/insertArticoli",t).then((function(t){e(t)})).catch((function(t){console.log(t)}))},m=function(t,e,a,n){console.log("idArt",t),console.log("listaFoto",e),console.log("values",a),o.a.put(i.d+"/updateArticolo",{id:t,lista_foto:e,values:a}).then((function(t){n(t)})).catch((function(t){console.log(t)}))},f=function(t){o.a.get(i.d+"/lista-foto").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},h=function(t,e){o.a.get(i.d+"/ordini-odierni").then((function(a){for(var n=[],o=0;o<a.data.length;o++)for(var i=0;i<t.length;i++)t[i].idArticolo===a.data[o].idArticoloAcquistato&&(null!=a.data.Nome&&null!=a.data.Cognome?n.push({id:o,name:a.data[o].Nome+" "+a.data[o].Cognome,amount:a.data[o].totalePrezzo,articolo:t[i].nomeArticolo,numero_acquisti:a.data[o].numeroAcquisti}):n.push({id:o,name:a.data[o].emailAcquirente,amount:a.data[o].totalePrezzo,articolo:t[i].nomeArticolo,numero_acquisti:a.data[o].numeroAcquisti}),o==a.data.length-1&&e(n))})).catch((function(t){console.log(t)}))},j=function(t,e,a){o.a.post(i.d+"/top-acquisti",{periodo:e}).then((function(e){for(var n=[],o=0;o<e.data.length;o++)for(var i=0;i<t.length;i++)t[i].idArticolo==e.data[o].idArticoloAcquistato&&(0==t[i].coloriDisp[e.data[o].indiceColore].image.length?n.push({name:t[i].nomeArticolo,image:"",category:t[i].categoria,sales:e.data[o].sum,status:"up",venduti:e.data[o].numerototaleacquisti}):n.push({name:t[i].nomeArticolo,image:t[i].coloriDisp[e.data[o].indiceColore].image[0],category:t[i].categoria,sales:e.data[o].sum,status:"up",venduti:e.data[o].numerototaleacquisti}),o==e.data.length-1&&a(n))})).catch((function(t){console.log(t)}))},g=function(t,e,a){o.a.put(i.d+"/update-tracking",{tracking:t,indice:e}).then((function(t){a(t)})).catch((function(t){console.log(t)}))},p=function(t,e){o.a.put(i.d+"/conferma-tracking",{indice:t}).then((function(t){e(t)})).catch((function(t){console.log(t)}))},b=function(t,e,a){o.a.post(i.d+"/insert-foto-ecommerce",{url:t,colonna_db:e}).then((function(t){a(t)})).catch((function(t){console.log(t)}))},x=function(t,e,a){o.a.put(i.d+"/upload-foto-ecommerce",{url:t,colonna_db:e}).then((function(t){a(t.data)})).catch((function(t){console.log(t)}))}},575:function(t,e,a){"use strict";var n=a(2),o=a(14),i=(a(0),a(904)),c=function(t){return Object(n.jsx)(i.a,Object(o.a)(Object(o.a)({},t),{},{className:"ant-avatar-".concat(t.type),children:t.text}))};e.a=function(t){var e=t.name,a=t.suffix,o=t.subTitle,i=t.id,s=t.type,r=t.src,u=t.icon,l=t.size,d=t.shape,m=t.gap,f=t.text,h=t.onNameClick;return Object(n.jsxs)("div",{className:"avatar-status d-flex align-items-center",children:[c({icon:u,src:r,type:s,size:l,shape:d,gap:m,text:f}),Object(n.jsxs)("div",{className:"ml-2",children:[Object(n.jsxs)("div",{children:[h?Object(n.jsx)("div",{onClick:function(){return h({name:e,subTitle:o,src:r,id:i})},className:"avatar-status-name clickable",children:e}):Object(n.jsx)("div",{className:"avatar-status-name",children:e}),Object(n.jsx)("span",{children:a})]}),Object(n.jsx)("div",{className:"text-muted avatar-status-subtitle",children:o})]})]})}},891:function(t,e,a){"use strict";a.r(e),a.d(e,"customerChartData",(function(){return b}));var n=a(87),o=a(2),i=a(0),c=a(159),s=a(904),r=a(569),u=a(570),l=a(616),d=a(900),m=a(63),f=a(178),h=a(575),j=a(617),g=a(552),p=(a(718),c.a.Option),b=[{name:"Store Customers",data:[28,25,64,40,75,45,70]},{name:"Online Customers",data:[25,15,41,25,44,12,36]}],x=[{title:"Cliente",dataIndex:"name",key:"name",render:function(t,e){return Object(o.jsxs)("div",{className:"d-flex align-items-center",children:[Object(o.jsx)(s.a,{size:30,className:"font-size-sm",style:{backgroundColor:e.avatarColor},children:m.a.getNameInitial(t)}),Object(o.jsx)("span",{className:"ml-2",children:t})]})}},{title:"Articolo acquistato",dataIndex:"articolo",key:"articolo"},{title:"Spesa effettuata",dataIndex:"amount",key:"amount"},{title:"Numero acquisti",dataIndex:"numero_acquisti",key:"numero_acquisti"}];e.default=function(){var t=Object(i.useState)([]),e=Object(n.a)(t,2),a=e[0],s=e[1],m=Object(i.useState)([]),b=Object(n.a)(m,2),O=b[0],v=b[1],A=Object(i.useState)([]),q=Object(n.a)(A,2),y=q[0],N=q[1];Object(i.useEffect)((function(){Object(g.d)((function(t){console.log(t),N(t),Object(g.h)(t,"week",(function(e){console.log("top-acquisti : ",e),Object(g.e)(t,(function(t){s(e),v(t),console.log("ordini odierni",t)}))}))}))}),[]);return Object(o.jsxs)("div",{children:[Object(o.jsx)(r.a,{gutter:16,children:Object(o.jsx)(u.a,{xs:24,sm:24,md:24,lg:24,children:Object(o.jsx)(l.a,{title:"Ordini del giorno",children:Object(o.jsx)(d.a,{className:"no-border-last",columns:x,dataSource:O,rowKey:"id",pagination:!0})})})}),Object(o.jsx)(r.a,{gutter:16,children:Object(o.jsx)(u.a,{xs:24,sm:24,md:18,lg:18,children:Object(o.jsx)(l.a,{title:"I prodotti pi\xf9 venduti",extra:Object(o.jsxs)(c.a,{onChange:function(t){console.log(t),s([]),Object(g.h)(y,t,(function(t){console.log("dentro on change! -> top-acquisti : ",t),s(t)}))},defaultValue:"week",size:"small",style:{minWidth:110},children:[Object(o.jsx)(p,{value:"week",children:"Questa settimana"}),Object(o.jsx)(p,{value:"month",children:"Questo mese"}),Object(o.jsx)(p,{value:"year",children:"Questo anno"})]}),children:a.map((function(t){return Object(o.jsxs)(f.a,{className:"w-100 py-3",justifyContent:"between",alignItems:"center",children:[Object(o.jsx)(h.a,{shape:"square",src:t.image,name:t.name,subTitle:t.category}),Object(o.jsx)(f.a,{children:Object(o.jsxs)("div",{className:"mr-3 text-right",children:[Object(o.jsx)("span",{className:"mb-0 h5 font-weight-bold",children:"Guadagno totale / Numero totale venduti"}),Object(o.jsxs)("div",{className:"text-muted",children:[Object(o.jsx)(j.a,{prefix:"Guadagno: \u20ac",value:t.sales+"/ Pezzi venduti: ",thousandSeparator:!0,displayType:"text"}),Object(o.jsx)(j.a,{prefix:"/ Pezzi venduti: ",value:t.venduti,thousandSeparator:!0,displayType:"text"})]})]})})]},t.name)}))})})})]})}}}]);
//# sourceMappingURL=15.3a24caf2.chunk.js.map