{"version":3,"sources":["configs/axios/chiamate_axios.js","components/layout-components/PageHeaderAlt.js","views/app-views/handle-images/PhotoComponent/UploadImages.js","views/app-views/handle-images/PhotoComponent/UploadImages2.js","views/app-views/handle-images/index.js"],"names":["uploadFoto","id","indice","vettore_url","callback","axios","post","IP","url","then","response","data","catch","err","console","log","getListaProdotti","get","ls","set","getAcquisti","all_prodotti","res","filtraggio","i","length","j","idArticolo","idArticoloAcquistato","push","idAcquisto","name","nome","cognome","image","date","dataAcquisto","split","amount","totalePrezzo","numeroacquisti","numeroAcquisti","orderStatus","stato","colore","coloriDisp","indiceColore","color","nomearticolo","nomeArticolo","articoloCompleto","tracking","nrtracking","idordine","insertArticolo","values","updateArticolo","foto","put","lista_foto","getFoto","getOrdiniOdierni","appoggio","Nome","Cognome","articolo","numero_acquisti","emailAcquirente","topAcquisti","periodo","category","categoria","sales","sum","status","venduti","numerototaleacquisti","updateTracking","track","confermaTracking","insertFotoECommerce","colonna","colonna_db","uploadFotoECommerce","connect","navType","theme","children","background","className","overlap","useState","widthOffset","setWidthOffset","ref","useRef","useEffect","NAV_TYPE_TOP","windowSize","window","innerWidth","pageHeaderSize","current","offsetWidth","style","backgroundImage","marginRight","marginLeft","paddingLeft","paddingRight","getStyle","UploadImages","props","selectFiles","bind","uploadImages","state","selectedFiles","undefined","previewImages","vettoreFoto","inserita","upload_completo","caricamento","vettore_foto_old","vettore_foto_old_2","cancellazione","upload_completo_cancellazione","position_state","enable_loop","listaFoto","setState","home_1","uid","home_2","event","images","img","position","target","files","URL","createObjectURL","document","createElement","this","src","onload","width","height","appoggio_selected_files","Swal","fire","icon","title","text","setTimeout","clearTimeout","Array","from","forEach","file","storageRef","child","Date","now","snapshot","getDownloadURL","downloadURL","message","type","showIcon","listType","fileList","onChange","handleChange","description","accept","disabled","onClick","Component","UploadImagesHome2","TabPane","Tabs","HandleImages","PageHeaderAlt","Flex","mobileFlex","justifyContent","alignItems","defaultActiveKey","marginTop","tab"],"mappings":"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","file":"static/js/14.ceda0b6b.chunk.js","sourcesContent":["import axios from \"axios\"\r\nimport { IP } from 'configs/AppConfig';\r\nimport ls from 'local-storage'\r\n\r\nconst uploadFoto = function (id, indice, vettore_url, callback) {\r\n    axios.post(IP + \"/uploadFoto\", { url: vettore_url, id: id, indice: indice })\r\n        .then(response => {\r\n            callback(response.data);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nconst getListaProdotti = function (callback) {\r\n    axios.get(IP + '/lista-prodotti-dashboard').then(response => {\r\n        ls.set('lista_prodotti', response.data)\r\n        callback(response.data);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst getAcquisti = function (all_prodotti, callback) {\r\n    axios.get(IP + '/lista-acquisti').then(res => {\r\n        let filtraggio = []\r\n        for (let i = 0; i < res.data.length; i++) {\r\n            for (let j = 0; j < all_prodotti.length; j++) {\r\n                if (all_prodotti[j].idArticolo == res.data[i].idArticoloAcquistato) {\r\n                    filtraggio.push({\r\n                        id: res.data[i].idAcquisto,\r\n                        name: res.data[i].nome + \" \" + res.data[i].cognome,\r\n                        image: '',\r\n                        date: res.data[i].dataAcquisto.split(\"T\")[0],\r\n                        amount: res.data[i].totalePrezzo,\r\n                        numeroacquisti: res.data[i].numeroAcquisti,\r\n                        orderStatus: res.data[i].stato,\r\n                        colore: all_prodotti[j].coloriDisp[res.data[i].indiceColore].color,\r\n                        nomearticolo: res.data[i].nomeArticolo,\r\n                        articoloCompleto: res.data[i],\r\n                        tracking: res.data[i].nrtracking,\r\n                        idordine: res.data[i].idordine\r\n                    })\r\n                    if (i == res.data.length - 1) {\r\n                        callback(filtraggio)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst insertArticolo = function (values, callback) {\r\n    axios.post(IP + '/insertArticoli', values).then(response => {\r\n        callback(response);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst updateArticolo = function (idArticolo, foto, values, callback) {\r\n    console.log(\"idArt\", idArticolo)\r\n    console.log(\"listaFoto\", foto)\r\n    console.log(\"values\", values)\r\n    axios.put(IP + '/updateArticolo', { id: idArticolo, lista_foto: foto, values: values }).then(response => {\r\n        callback(response);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst getFoto = function (callback) {\r\n    axios.get(IP + '/lista-foto').then(response => {\r\n        callback(response.data);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst getOrdiniOdierni = function (all_prodotti, callback) {\r\n    axios.get(IP + '/ordini-odierni').then(response => {\r\n        let appoggio = []\r\n        for (let i = 0; i < response.data.length; i++) {\r\n            for (let j = 0; j < all_prodotti.length; j++) {\r\n                if (all_prodotti[j].idArticolo === response.data[i].idArticoloAcquistato) {\r\n                    if (response.data.Nome != null && response.data.Cognome != null) {\r\n                        appoggio.push({\r\n                            id: i,\r\n                            name: response.data[i].Nome + ' ' + response.data[i].Cognome,\r\n                            amount: response.data[i].totalePrezzo,\r\n                            articolo: all_prodotti[j].nomeArticolo,\r\n                            numero_acquisti: response.data[i].numeroAcquisti\r\n                        })\r\n                    } else {\r\n                        appoggio.push({\r\n                            id: i,\r\n                            name: response.data[i].emailAcquirente,\r\n                            amount: response.data[i].totalePrezzo,\r\n                            articolo: all_prodotti[j].nomeArticolo,\r\n                            numero_acquisti: response.data[i].numeroAcquisti\r\n                        })\r\n                    }\r\n                    if (i == response.data.length - 1) {\r\n                        callback(appoggio);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst topAcquisti = function (all_prodotti, data, callback) {\r\n    axios.post(IP + '/top-acquisti', { periodo: data }).then(response => {\r\n        let filtraggio = []\r\n        for (let i = 0; i < response.data.length; i++) {\r\n            for (let j = 0; j < all_prodotti.length; j++) {\r\n                if (all_prodotti[j].idArticolo == response.data[i].idArticoloAcquistato) {\r\n                    if (all_prodotti[j].coloriDisp[response.data[i].indiceColore].image.length == 0) {\r\n                        filtraggio.push({\r\n                            name: all_prodotti[j].nomeArticolo,\r\n                            image: '',\r\n                            category: all_prodotti[j].categoria,\r\n                            sales: response.data[i].sum,\r\n                            status: 'up',\r\n                            venduti: response.data[i].numerototaleacquisti\r\n                        })\r\n\r\n                    } else {\r\n                        filtraggio.push({\r\n                            name: all_prodotti[j].nomeArticolo,\r\n                            image: all_prodotti[j].coloriDisp[response.data[i].indiceColore].image[0],\r\n                            category: all_prodotti[j].categoria,\r\n                            sales: response.data[i].sum,\r\n                            status: 'up',\r\n                            venduti: response.data[i].numerototaleacquisti\r\n                        })\r\n                    }\r\n                    if (i == response.data.length - 1) {\r\n                        callback(filtraggio);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst updateTracking = function (track, id, callback) {\r\n    axios.put(IP + '/update-tracking', { tracking: track, indice: id  }).then(response => {\r\n        callback(response);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\n\r\nconst confermaTracking = function (id, callback) {\r\n    axios.put(IP + '/conferma-tracking', { indice: id  }).then(response => {\r\n        callback(response);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst insertFotoECommerce = function (url, colonna, callback) {\r\n\r\n    axios.post(IP + \"/insert-foto-ecommerce\", { url: url, colonna_db: colonna })\r\n        .then(response => {\r\n            callback(response);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nconst uploadFotoECommerce = function (url, colonna, callback) {\r\n\r\n    axios.put(IP + \"/upload-foto-ecommerce\", { url: url, colonna_db: colonna })\r\n        .then(response => {\r\n            callback(response.data);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nexport {\r\n    uploadFoto,\r\n    getListaProdotti,\r\n    getAcquisti,\r\n    updateArticolo,\r\n    insertArticolo,\r\n    getFoto,\r\n    getOrdiniOdierni,\r\n    topAcquisti,\r\n    updateTracking,\r\n    confermaTracking,\r\n    insertFotoECommerce,\r\n    uploadFotoECommerce\r\n}","import React, { useRef, useEffect, useState} from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from 'react-redux';\r\nimport { NAV_TYPE_TOP } from 'constants/ThemeConstant';\r\n\r\nexport const PageHeaderAlt = ({children, background, className, overlap, navType}) => {\r\n\tconst [widthOffset, setWidthOffset] = useState(0)\r\n\tconst ref = useRef(null);\r\n\r\n  useEffect(() => {\r\n\t\tif (navType === NAV_TYPE_TOP) {\r\n\t\t\tconst windowSize = window.innerWidth\r\n\t\t\tconst pageHeaderSize = ref.current.offsetWidth\r\n\t\t\tsetWidthOffset( (windowSize - pageHeaderSize) / 2 )\r\n\t\t}\r\n\t}, [navType]);\r\n\t\r\n\tconst getStyle = () => {\r\n\t\tlet style = { backgroundImage: background ? `url(${background})` : 'none' } \r\n\t\tif (navType === NAV_TYPE_TOP) {\r\n\t\t\tstyle.marginRight = -widthOffset\r\n\t\t\tstyle.marginLeft = -widthOffset\r\n\t\t\tstyle.paddingLeft = 0\r\n\t\t\tstyle.paddingRight = 0\r\n\t\t}\r\n\t\treturn style\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={ref}\r\n\t\t\tclassName={`page-header-alt ${className ? className : ''} ${overlap && 'overlap'}`} \r\n\t\t\tstyle={getStyle()}\r\n\t\t>\r\n\t\t\t{navType === NAV_TYPE_TOP ? <div className=\"container\">{children}</div> : <>{children}</>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nPageHeaderAlt.propTypes = {\r\n  children: PropTypes.node,\r\n\tbackground: PropTypes.string,\r\n\tclassName: PropTypes.string,\r\n\toverlap: PropTypes.bool\r\n};\r\n\r\nconst mapStateToProps = ({ theme }) => {\r\n  const { navType } =  theme;\r\n  return { navType }\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(PageHeaderAlt);","import React, { Component } from \"react\";\r\nimport { Upload, Alert, message } from 'antd';\r\nimport { Spin, Button, Input } from 'antd';\r\nimport { uploadFoto, insertFotoECommerce, uploadFotoECommerce, getFoto } from 'configs/axios/chiamate_axios'\r\nimport { storageRef } from 'auth/FirebaseAuth'\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default class UploadImages extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.selectFiles = this.selectFiles.bind(this);\r\n    this.uploadImages = this.uploadImages.bind(this);\r\n    this.state = {\r\n      selectedFiles: undefined,\r\n      previewImages: [],\r\n      vettoreFoto: [],\r\n      inserita: false,\r\n      upload_completo: false,\r\n      caricamento: false,\r\n      vettore_foto_old: [],\r\n      vettore_foto_old_2: [],\r\n      indiceColore: [],\r\n      cancellazione: false,\r\n      upload_completo_cancellazione: false,\r\n      position_state: [],\r\n      enable_loop: true,\r\n      listaFoto: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    getFoto(res => {\r\n      this.setState({ listaFoto: res })\r\n      console.log(\"vettoreFotogiàpresenti\", res)\r\n      if (res.length != 0) {\r\n        if (res[0].home_1 != null) {\r\n          this.setState({\r\n            vettore_foto_old: [{\r\n              uid: 0,\r\n              name: 0,\r\n              status: 'done',\r\n              url: res[0].home_1\r\n            }]\r\n          }, () => {\r\n            console.log(this.state.vettore_foto_old)\r\n          })\r\n        }\r\n\r\n        if (res[0].home_2 != null) {\r\n          this.setState({\r\n            vettore_foto_old_2: [{\r\n              uid: 1,\r\n              name: 1,\r\n              status: 'done',\r\n              url: res[0].home_2\r\n            }]\r\n          }, () => {\r\n            console.log(this.state.vettore_foto_old_2)\r\n          })\r\n        }\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  selectFiles(event) {\r\n    let images = [];\r\n    var img = []\r\n    let position = []\r\n\r\n    for (let i = 0; i < event.target.files.length; i++) {\r\n      images.push(URL.createObjectURL(event.target.files[i]))\r\n      img.push(document.createElement('img'))\r\n    }\r\n\r\n    this.setState({\r\n      selectedFiles: event.target.files,\r\n      previewImages: images,\r\n      cancellazione: false\r\n    }, () => {\r\n      for (let i = 0; i < this.state.selectedFiles.length; i++) {\r\n        img[i].src = this.state.previewImages[i];\r\n        img[i].onload = () => {\r\n          console.log(\"dentro img\", img[i])\r\n          console.log(\"NEW IMAGE width\", img[i].width);\r\n          console.log(\"NEW IMAGE height: \", img[i].height);\r\n          if (img[i].width < 700 || img[i].height < 724) {\r\n            position.push(i)\r\n          }\r\n        }\r\n      }\r\n      let appoggio = []\r\n      for (let i = 0; i < this.state.selectedFiles.length; i++) {\r\n        appoggio.push({\r\n          uid: i,\r\n          name: this.state.selectedFiles[i].name,\r\n          status: 'done',\r\n          url: this.state.previewImages[i]\r\n        })\r\n      }\r\n      this.setState({ vettoreFoto: appoggio, position_state: position })\r\n    });\r\n  }\r\n\r\n  uploadImages() {\r\n    let appoggio_selected_files = []\r\n    let appoggio_selected_files_chosen = []\r\n    for (let i = 0; i < this.state.selectedFiles.length; i++) {\r\n      appoggio_selected_files.push(this.state.selectedFiles[i].name)\r\n    }\r\n    console.log(\"posizione della foto errata: \", this.state.position_state)\r\n\r\n    if (this.state.position_state.length != 0) {\r\n      console.log(this.state.selectedFiles)\r\n      console.log(this.state.position_state)\r\n\r\n      if (this.state.position_state.length == 1) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Errore!',\r\n          text: `La foto ` + this.state.selectedFiles[0].name + ` non rispetta la risoluzione. Non è stato possibile caricare le foto. Rimuoverla o modificare la risoluzione della foto in questione`\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      this.setState({ caricamento: true })\r\n      setTimeout(() => {\r\n        if (this.state.caricamento == true) {\r\n          this.setState({ caricamento: false })\r\n          clearTimeout()\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Errore di rete!',\r\n            text: `Qualcosa è andato storto nel caricamento delle foto! Riprova.`\r\n          })\r\n        }\r\n      }, 10 * 1000);\r\n\r\n\r\n      Array.from(this.state.selectedFiles).forEach(file => {\r\n        storageRef\r\n          .child(`/${Date.now()}-${file.name}`)\r\n          .put(file).then((snapshot) => {\r\n            console.log(\"mazzeo merda\", snapshot.ref.getDownloadURL())\r\n            snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n              console.log('File available at', downloadURL);\r\n              //console.log(\"cont\", cont)\r\n              console.log(\"new foto len\", this.state.selectedFiles.length)\r\n              console.log(\"old foto len\", this.state.vettore_foto_old)\r\n              //if (cont.length == this.state.selectedFiles.length + this.state.vettoreFotoOld.length) {\r\n              console.log(\"INDICE\", this.props.indice)\r\n              if (this.state.vettore_foto_old.length == 0 && !this.state.inserita && this.state.vettore_foto_old_2.length == 0) {\r\n                //se sto qui significa che devo fare la insert\r\n                insertFotoECommerce(downloadURL, \"home_1\", res => {\r\n                  if (res.status = 200) {\r\n                    this.setState({ inserita: true, caricamento: false, upload_completo: true })\r\n                    Swal.fire(\r\n                      'Completato!',\r\n                      'La foto numero 1 è stata inserita correttamente!',\r\n                      'success'\r\n                    )\r\n                    getFoto(res => {\r\n                      this.setState({ listaFoto: res })\r\n                      console.log(\"vettoreFotogiàpresenti\", res)\r\n                      if (res.length != 0) {\r\n                        if (res[0].home_1 != null) {\r\n                          this.setState({\r\n                            vettore_foto_old: [{\r\n                              uid: 0,\r\n                              name: 0,\r\n                              status: 'done',\r\n                              url: res[0].home_1\r\n                            }]\r\n                          }, () => {\r\n                            console.log(this.state.vettore_foto_old)\r\n                          })\r\n                        }\r\n\r\n                        if (res[0].home_2 != null) {\r\n                          this.setState({\r\n                            vettore_foto_old_2: [{\r\n                              uid: 1,\r\n                              name: 1,\r\n                              status: 'done',\r\n                              url: res[0].home_2\r\n                            }]\r\n                          }, () => {\r\n                            console.log(this.state.vettore_foto_old_2)\r\n                          })\r\n                        }\r\n                      }\r\n                    })\r\n                  }\r\n                  console.log(res)\r\n                })\r\n              }\r\n              else {\r\n                uploadFotoECommerce(downloadURL, \"home_1\", res => {\r\n                  if (res.status = 200) {\r\n                    this.setState({ inserita: true, caricamento: false, upload_completo: true })\r\n                    Swal.fire(\r\n                      'Completato!',\r\n                      'La foto numero 1 è stata modificata correttamente!',\r\n                      'success'\r\n                    )\r\n                    getFoto(res => {\r\n                      this.setState({ listaFoto: res })\r\n                      console.log(\"vettoreFotogiàpresenti\", res)\r\n                      if (res.length != 0) {\r\n                        if (res[0].home_1 != null) {\r\n                          this.setState({\r\n                            vettore_foto_old: [{\r\n                              uid: 0,\r\n                              name: 0,\r\n                              status: 'done',\r\n                              url: res[0].home_1\r\n                            }]\r\n                          }, () => {\r\n                            console.log(this.state.vettore_foto_old)\r\n                          })\r\n                        }\r\n\r\n                        if (res[0].home_2 != null) {\r\n                          this.setState({\r\n                            vettore_foto_old_2: [{\r\n                              uid: 1,\r\n                              name: 1,\r\n                              status: 'done',\r\n                              url: res[0].home_2\r\n                            }]\r\n                          }, () => {\r\n                            console.log(this.state.vettore_foto_old_2)\r\n                          })\r\n                        }\r\n                      }\r\n                    })\r\n                  }\r\n                  console.log(res)\r\n                })\r\n              }\r\n              // }\r\n            });\r\n          })\r\n      });\r\n  \r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const { selectedFiles, previewImages } = this.state;\r\n    return (\r\n\r\n      <div>\r\n        <div>\r\n          {this.state.vettore_foto_old.length != 0 &&\r\n\r\n            <div>\r\n              <div className=\"clearfix\">\r\n                <Alert message=\"Foto attualmente presenti\" type=\"info\" showIcon />\r\n\r\n                <Upload\r\n                  listType=\"picture-card\"\r\n                  fileList={this.state.vettore_foto_old}\r\n                  onChange={this.handleChange}\r\n                >\r\n                </Upload>\r\n              </div>\r\n            </div>\r\n          }\r\n\r\n          {!this.state.upload_completo ?\r\n            <div className=\"row\">\r\n\r\n              <div className=\"col-8\">\r\n                <label className=\"btn btn-default p-0\">\r\n                  <Input type=\"file\" accept=\"image/*\" onChange={this.selectFiles} />\r\n                </label>\r\n              </div>\r\n\r\n              {previewImages && (\r\n                <div>\r\n                  <div className=\"clearfix\">\r\n                    <Upload\r\n                      listType=\"picture-card\"\r\n                      fileList={this.state.vettoreFoto}\r\n                    >\r\n                    </Upload>\r\n\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <Button\r\n                      className=\"btn btn-success btn-sm\"\r\n                      disabled={!selectedFiles}\r\n                      onClick={this.uploadImages}\r\n                    >\r\n                      Carica foto\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {this.state.caricamento == true &&\r\n                <Spin />\r\n              }\r\n            </div>\r\n            :\r\n            <Alert\r\n              message=\"Upload avvenuto con successo!\"\r\n              description=\"Le modifiche sono state effettuate correttamente.\"\r\n              type=\"success\"\r\n              showIcon\r\n            />\r\n          }\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Upload, Alert, message } from 'antd';\r\nimport { Spin, Button, Input } from 'antd';\r\nimport { uploadFoto, insertFotoECommerce, uploadFotoECommerce, getFoto } from 'configs/axios/chiamate_axios'\r\nimport { storageRef } from 'auth/FirebaseAuth'\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default class UploadImagesHome2 extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.selectFiles = this.selectFiles.bind(this);\r\n    this.uploadImages = this.uploadImages.bind(this);\r\n    this.state = {\r\n      selectedFiles: undefined,\r\n      previewImages: [],\r\n      vettoreFoto: [],\r\n      inserita: false,\r\n      upload_completo: false,\r\n      caricamento: false,\r\n      vettore_foto_old: [],\r\n      vettore_foto_old_2: [],\r\n      indiceColore: [],\r\n      cancellazione: false,\r\n      upload_completo_cancellazione: false,\r\n      position_state: [],\r\n      enable_loop: true,\r\n      listaFoto: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    getFoto(res => {\r\n      this.setState({ listaFoto: res })\r\n      console.log(\"vettoreFotogiàpresenti\", res)\r\n      if (res.length != 0) {\r\n        if (res[0].home_2 == null && res[0].home_1 != null) {\r\n          this.setState({\r\n            vettore_foto_old: [{\r\n              uid: 0,\r\n              name: 0,\r\n              status: 'done',\r\n              url: res[0].home_2\r\n            }]\r\n          }, () => {\r\n            console.log(this.state.vettore_foto_old)\r\n          })\r\n        }\r\n\r\n        else if (res[0].home_2 != null) {\r\n          this.setState({\r\n            vettore_foto_old_2: [{\r\n              uid: 0,\r\n              name: 0,\r\n              status: 'done',\r\n              url: res[0].home_2\r\n            }]\r\n          }, () => {\r\n            console.log(this.state.vettore_foto_old_2)\r\n          })\r\n        }\r\n\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  selectFiles(event) {\r\n    let images = [];\r\n    var img = []\r\n    let position = []\r\n\r\n    for (let i = 0; i < event.target.files.length; i++) {\r\n      images.push(URL.createObjectURL(event.target.files[i]))\r\n      img.push(document.createElement('img'))\r\n    }\r\n\r\n    this.setState({\r\n      selectedFiles: event.target.files,\r\n      previewImages: images,\r\n      cancellazione: false\r\n    }, () => {\r\n      for (let i = 0; i < this.state.selectedFiles.length; i++) {\r\n        img[i].src = this.state.previewImages[i];\r\n        img[i].onload = () => {\r\n          console.log(\"dentro img\", img[i])\r\n          console.log(\"NEW IMAGE width\", img[i].width);\r\n          console.log(\"NEW IMAGE height: \", img[i].height);\r\n          if (img[i].width < 700 || img[i].height < 724) {\r\n            position.push(i)\r\n          }\r\n        }\r\n      }\r\n      let appoggio = []\r\n      for (let i = 0; i < this.state.selectedFiles.length; i++) {\r\n        appoggio.push({\r\n          uid: i,\r\n          name: this.state.selectedFiles[i].name,\r\n          status: 'done',\r\n          url: this.state.previewImages[i]\r\n        })\r\n      }\r\n      this.setState({ vettoreFoto: appoggio, position_state: position })\r\n    });\r\n  }\r\n\r\n  uploadImages() {\r\n    let appoggio_selected_files = []\r\n    let appoggio_selected_files_chosen = []\r\n    for (let i = 0; i < this.state.selectedFiles.length; i++) {\r\n      appoggio_selected_files.push(this.state.selectedFiles[i].name)\r\n    }\r\n    console.log(\"posizione della foto errata: \", this.state.position_state)\r\n\r\n    if (this.state.position_state.length != 0) {\r\n      console.log(this.state.selectedFiles)\r\n      console.log(this.state.position_state)\r\n\r\n      if (this.state.position_state.length == 1) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Errore!',\r\n          text: `La foto ` + this.state.selectedFiles[0].name + ` non rispetta la risoluzione. Non è stato possibile caricare le foto. Rimuoverla o modificare la risoluzione della foto in questione`\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      this.setState({ caricamento: true })\r\n      setTimeout(() => {\r\n        if (this.state.caricamento == true) {\r\n          this.setState({ caricamento: false })\r\n          clearTimeout()\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Errore di rete!',\r\n            text: `Qualcosa è andato storto nel caricamento delle foto! Riprova.`\r\n          })\r\n        }\r\n      }, 10 * 1000);\r\n\r\n      Array.from(this.state.selectedFiles).forEach(file => {\r\n        storageRef\r\n          .child(`/${Date.now()}-${file.name}`)\r\n          .put(file).then((snapshot) => {\r\n            console.log(\"mazzeo merda\", snapshot.ref.getDownloadURL())\r\n            snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n              console.log('File available at', downloadURL);\r\n\r\n              console.log(\"new foto len\", this.state.selectedFiles.length)\r\n              console.log(\"old foto len\", this.state.vettore_foto_old)\r\n              console.log(\"INDICE\", this.props.indice)\r\n              if (this.state.vettore_foto_old.length == 0 && !this.state.inserita && this.state.vettore_foto_old_2.length == 0) {\r\n                insertFotoECommerce(downloadURL, \"home_2\", res => {\r\n                  if (res.status = 200) {\r\n                    this.setState({ inserita: true, caricamento: false, upload_completo: true })\r\n                    Swal.fire(\r\n                      'Completato!',\r\n                      'La foto numero 1 è stata inserita correttamente!',\r\n                      'success'\r\n                    )\r\n                    getFoto(res => {\r\n                      this.setState({ listaFoto: res })\r\n                      console.log(\"vettoreFotogiàpresenti\", res)\r\n                      if (res.length != 0) {\r\n                        if (res[0].home_1 != null) {\r\n                          this.setState({\r\n                            vettore_foto_old: [{\r\n                              uid: 0,\r\n                              name: 0,\r\n                              status: 'done',\r\n                              url: res[0].home_1\r\n                            }]\r\n                          }, () => {\r\n                            console.log(this.state.vettore_foto_old)\r\n                          })\r\n                        }\r\n\r\n                        if (res[0].home_2 != null) {\r\n                          this.setState({\r\n                            vettore_foto_old_2: [{\r\n                              uid: 1,\r\n                              name: 1,\r\n                              status: 'done',\r\n                              url: res[0].home_2\r\n                            }]\r\n                          }, () => {\r\n                            console.log(this.state.vettore_foto_old_2)\r\n                          })\r\n                        }\r\n                      }\r\n                    })\r\n                  }\r\n                  console.log(res)\r\n                })\r\n              }\r\n              else {\r\n                uploadFotoECommerce(downloadURL, \"home_2\", res => {\r\n                  if (res.status = 200) {\r\n                    this.setState({ inserita: true, caricamento: false, upload_completo: true })\r\n                    Swal.fire(\r\n                      'Completato!',\r\n                      'La foto numero 1 è stata modificata correttamente!',\r\n                      'success'\r\n                    )\r\n                    getFoto(res => {\r\n                      this.setState({ listaFoto: res })\r\n                      console.log(\"vettoreFotogiàpresenti\", res)\r\n                      if (res.length != 0) {\r\n                        if (res[0].home_1 != null) {\r\n                          this.setState({\r\n                            vettore_foto_old: [{\r\n                              uid: 0,\r\n                              name: 0,\r\n                              status: 'done',\r\n                              url: res[0].home_1\r\n                            }]\r\n                          }, () => {\r\n                            console.log(this.state.vettore_foto_old)\r\n                          })\r\n                        }\r\n\r\n                        if (res[0].home_2 != null) {\r\n                          this.setState({\r\n                            vettore_foto_old_2: [{\r\n                              uid: 1,\r\n                              name: 1,\r\n                              status: 'done',\r\n                              url: res[0].home_2\r\n                            }]\r\n                          }, () => {\r\n                            console.log(this.state.vettore_foto_old_2)\r\n                          })\r\n                        }\r\n                      }\r\n                    })\r\n                  }\r\n                  console.log(res)\r\n                })\r\n              }\r\n            });\r\n          })\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const { selectedFiles, previewImages } = this.state;\r\n    return (\r\n\r\n      <div>\r\n        <div>\r\n          {this.state.vettore_foto_old_2.length != 0 &&\r\n\r\n            <div>\r\n              <div className=\"clearfix\">\r\n                <Alert message=\"Foto attualmente presenti\" type=\"info\" showIcon />\r\n\r\n                <Upload\r\n                  listType=\"picture-card\"\r\n                  fileList={this.state.vettore_foto_old_2}\r\n                >\r\n                </Upload>\r\n              </div>\r\n            </div>\r\n          }\r\n\r\n          {!this.state.upload_completo ?\r\n            <div className=\"row\">\r\n\r\n              <div className=\"col-8\">\r\n                <label className=\"btn btn-default p-0\">\r\n                  <Input type=\"file\" accept=\"image/*\" onChange={this.selectFiles} />\r\n                </label>\r\n              </div>\r\n\r\n              {previewImages && (\r\n                <div>\r\n                  <div className=\"clearfix\">\r\n                    <Upload\r\n                      listType=\"picture-card\"\r\n                      fileList={this.state.vettoreFoto}\r\n                    >\r\n                    </Upload>\r\n\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <Button\r\n                      className=\"btn btn-success btn-sm\"\r\n                      disabled={!selectedFiles}\r\n                      onClick={this.uploadImages}\r\n                    >\r\n                      Carica foto\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {this.state.caricamento == true &&\r\n                <Spin />\r\n              }\r\n            </div>\r\n            :\r\n            <Alert\r\n              message=\"Upload avvenuto con successo!\"\r\n              description=\"Le modifiche sono state effettuate correttamente.\"\r\n              type=\"success\"\r\n              showIcon\r\n            />\r\n          }\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Card, Table, Select, Input, Button, Badge, Menu, Upload, Tabs } from 'antd';\r\nimport { getFoto } from 'configs/axios/chiamate_axios'\r\nimport Swal from 'sweetalert2';\r\nimport UploadImages from './PhotoComponent/UploadImages'\r\nimport Flex from 'components/shared-components/Flex'\r\nimport PageHeaderAlt from 'components/layout-components/PageHeaderAlt'\r\nimport UploadImagesHome2 from './PhotoComponent/UploadImages2'\r\nconst { TabPane } = Tabs;\r\n\r\nconst HandleImages = () => {\r\n\r\n\tuseEffect(() => {\r\n\r\n\t}, []);\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PageHeaderAlt className=\"border-bottom\" overlap>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<Flex className=\"py-2\" mobileFlex={false} justifyContent=\"between\" alignItems=\"center\">\r\n\t\t\t\t\t\t<h2 className=\"mb-3\">{\"Modifica qui le tue foto\"} </h2>\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Flex>\r\n\t\t\t\t</div>\r\n\t\t\t</PageHeaderAlt>\r\n\t\t\t<Tabs defaultActiveKey=\"1\" style={{ marginTop: 30 }}>\r\n\r\n\t\t\t\t<TabPane tab={\"Home_1\"} key={1}>\r\n\t\t\t\t\t<UploadImages />\r\n\t\t\t\t</TabPane>\r\n\r\n\t\t\t\t<TabPane tab={\"Home_2\"} key={2}>\r\n\t\t\t\t\t<UploadImagesHome2 />\r\n\t\t\t\t</TabPane>\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default HandleImages;\r\n"],"sourceRoot":""}