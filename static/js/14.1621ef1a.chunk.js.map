{"version":3,"sources":["configs/axios/chiamate_axios.js","components/layout-components/PageHeaderAlt.js","views/app-views/handle-images/PhotoComponent/UploadImages.js","views/app-views/handle-images/PhotoComponent/UploadImages2.js","views/app-views/handle-images/index.js"],"names":["uploadFoto","id","indice","vettore_url","callback","axios","post","IP","url","then","response","data","catch","err","console","log","getListaProdotti","get","ls","set","getAcquisti","all_prodotti","res","filtraggio","i","length","j","idArticolo","idArticoloAcquistato","push","idAcquisto","name","nome","cognome","image","date","dataAcquisto","split","amount","totalePrezzo","numeroacquisti","numeroAcquisti","orderStatus","stato","colore","coloriDisp","indiceColore","color","nomearticolo","nomeArticolo","articoloCompleto","tracking","nrtracking","idordine","personalizzazione","insertArticolo","values","updateArticolo","foto","put","lista_foto","getFoto","getOrdiniOdierni","appoggio","Nome","Cognome","articolo","numero_acquisti","emailAcquirente","topAcquisti","periodo","category","categoria","sales","sum","status","venduti","numerototaleacquisti","updateTracking","track","confermaTracking","insertFotoECommerce","colonna","colonna_db","uploadFotoECommerce","connect","navType","theme","children","background","className","overlap","useState","widthOffset","setWidthOffset","ref","useRef","useEffect","NAV_TYPE_TOP","windowSize","window","innerWidth","pageHeaderSize","current","offsetWidth","style","backgroundImage","marginRight","marginLeft","paddingLeft","paddingRight","getStyle","UploadImages","props","selectFiles","bind","uploadImages","state","selectedFiles","undefined","previewImages","vettoreFoto","inserita","upload_completo","caricamento","vettore_foto_old","vettore_foto_old_2","cancellazione","upload_completo_cancellazione","position_state","enable_loop","listaFoto","setState","home_1","uid","home_2","event","images","img","position","target","files","URL","createObjectURL","document","createElement","this","src","onload","width","height","appoggio_selected_files","Swal","fire","icon","title","text","setTimeout","clearTimeout","Array","from","forEach","file","storageRef","child","Date","now","snapshot","getDownloadURL","downloadURL","message","type","showIcon","listType","fileList","onChange","handleChange","description","accept","disabled","onClick","Component","UploadImagesHome2","TabPane","Tabs","HandleImages","PageHeaderAlt","Flex","mobileFlex","justifyContent","alignItems","defaultActiveKey","marginTop","tab"],"mappings":"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","file":"static/js/14.1621ef1a.chunk.js","sourcesContent":["import axios from \"axios\"\nimport { IP } from 'configs/AppConfig';\nimport ls from 'local-storage'\n\nconst uploadFoto = function (id, indice, vettore_url, callback) {\n    axios.post(IP + \"/uploadFoto\", { url: vettore_url, id: id, indice: indice })\n        .then(response => {\n            callback(response.data);\n        }).catch(err => {\n            console.log(err);\n        })\n}\n\nconst getListaProdotti = function (callback) {\n    axios.get(IP + '/lista-prodotti-dashboard').then(response => {\n        ls.set('lista_prodotti', response.data)\n        callback(response.data);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst getAcquisti = function (all_prodotti, callback) {\n    axios.get(IP + '/lista-acquisti').then(res => {\n        let filtraggio = []\n        for (let i = 0; i < res.data.length; i++) {\n            for (let j = 0; j < all_prodotti.length; j++) {\n                if (all_prodotti[j].idArticolo == res.data[i].idArticoloAcquistato) {\n                    filtraggio.push({\n                        id: res.data[i].idAcquisto,\n                        name: res.data[i].nome + \" \" + res.data[i].cognome,\n                        image: '',\n                        date: res.data[i].dataAcquisto.split(\"T\")[0],\n                        amount: res.data[i].totalePrezzo,\n                        numeroacquisti: res.data[i].numeroAcquisti,\n                        orderStatus: res.data[i].stato,\n                        colore: all_prodotti[j].coloriDisp[res.data[i].indiceColore].color,\n                        nomearticolo: res.data[i].nomeArticolo,\n                        articoloCompleto: res.data[i],\n                        tracking: res.data[i].nrtracking,\n                        idordine: res.data[i].idordine,\n                        personalizzazione: res.data[i].personalizzazione\n                    })\n                    if (i == res.data.length - 1) {\n                        callback(filtraggio)\n                    }\n                }\n            }\n        }\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst insertArticolo = function (values, callback) {\n    axios.post(IP + '/insertArticoli', values).then(response => {\n        callback(response);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst updateArticolo = function (idArticolo, foto, values, callback) {\n    console.log(\"idArt\", idArticolo)\n    console.log(\"listaFoto\", foto)\n    console.log(\"values\", values)\n    axios.put(IP + '/updateArticolo', { id: idArticolo, lista_foto: foto, values: values }).then(response => {\n        callback(response);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst getFoto = function (callback) {\n    axios.get(IP + '/lista-foto').then(response => {\n        callback(response.data);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst getOrdiniOdierni = function (all_prodotti, callback) {\n    axios.get(IP + '/ordini-odierni').then(response => {\n        let appoggio = []\n        for (let i = 0; i < response.data.length; i++) {\n            for (let j = 0; j < all_prodotti.length; j++) {\n                if (all_prodotti[j].idArticolo === response.data[i].idArticoloAcquistato) {\n                    if (response.data.Nome != null && response.data.Cognome != null) {\n                        appoggio.push({\n                            id: i,\n                            name: response.data[i].Nome + ' ' + response.data[i].Cognome,\n                            amount: response.data[i].totalePrezzo,\n                            articolo: all_prodotti[j].nomeArticolo,\n                            numero_acquisti: response.data[i].numeroAcquisti\n                        })\n                    } else {\n                        appoggio.push({\n                            id: i,\n                            name: response.data[i].emailAcquirente,\n                            amount: response.data[i].totalePrezzo,\n                            articolo: all_prodotti[j].nomeArticolo,\n                            numero_acquisti: response.data[i].numeroAcquisti\n                        })\n                    }\n                    if (i == response.data.length - 1) {\n                        callback(appoggio);\n                    }\n                }\n            }\n        }\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst topAcquisti = function (all_prodotti, data, callback) {\n    axios.post(IP + '/top-acquisti', { periodo: data }).then(response => {\n        let filtraggio = []\n        for (let i = 0; i < response.data.length; i++) {\n            for (let j = 0; j < all_prodotti.length; j++) {\n                if (all_prodotti[j].idArticolo == response.data[i].idArticoloAcquistato) {\n                    if (all_prodotti[j].coloriDisp[response.data[i].indiceColore].image.length == 0) {\n                        filtraggio.push({\n                            name: all_prodotti[j].nomeArticolo,\n                            image: '',\n                            category: all_prodotti[j].categoria,\n                            sales: response.data[i].sum,\n                            status: 'up',\n                            venduti: response.data[i].numerototaleacquisti\n                        })\n\n                    } else {\n                        filtraggio.push({\n                            name: all_prodotti[j].nomeArticolo,\n                            image: all_prodotti[j].coloriDisp[response.data[i].indiceColore].image[0],\n                            category: all_prodotti[j].categoria,\n                            sales: response.data[i].sum,\n                            status: 'up',\n                            venduti: response.data[i].numerototaleacquisti\n                        })\n                    }\n                    if (i == response.data.length - 1) {\n                        callback(filtraggio);\n                    }\n                }\n            }\n\n        }\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst updateTracking = function (track, id, callback) {\n    axios.put(IP + '/update-tracking', { tracking: track, indice: id  }).then(response => {\n        callback(response);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\n\nconst confermaTracking = function (id, callback) {\n    axios.put(IP + '/conferma-tracking', { indice: id  }).then(response => {\n        callback(response);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst insertFotoECommerce = function (url, colonna, callback) {\n\n    axios.post(IP + \"/insert-foto-ecommerce\", { url: url, colonna_db: colonna })\n        .then(response => {\n            callback(response);\n        }).catch(err => {\n            console.log(err);\n        })\n}\n\nconst uploadFotoECommerce = function (url, colonna, callback) {\n\n    axios.put(IP + \"/upload-foto-ecommerce\", { url: url, colonna_db: colonna })\n        .then(response => {\n            callback(response.data);\n        }).catch(err => {\n            console.log(err);\n        })\n}\n\nexport {\n    uploadFoto,\n    getListaProdotti,\n    getAcquisti,\n    updateArticolo,\n    insertArticolo,\n    getFoto,\n    getOrdiniOdierni,\n    topAcquisti,\n    updateTracking,\n    confermaTracking,\n    insertFotoECommerce,\n    uploadFotoECommerce\n}","import React, { useRef, useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport { connect } from 'react-redux';\nimport { NAV_TYPE_TOP } from 'constants/ThemeConstant';\n\nexport const PageHeaderAlt = ({children, background, className, overlap, navType}) => {\n\tconst [widthOffset, setWidthOffset] = useState(0)\n\tconst ref = useRef(null);\n\n  useEffect(() => {\n\t\tif (navType === NAV_TYPE_TOP) {\n\t\t\tconst windowSize = window.innerWidth\n\t\t\tconst pageHeaderSize = ref.current.offsetWidth\n\t\t\tsetWidthOffset( (windowSize - pageHeaderSize) / 2 )\n\t\t}\n\t}, [navType]);\n\t\n\tconst getStyle = () => {\n\t\tlet style = { backgroundImage: background ? `url(${background})` : 'none' } \n\t\tif (navType === NAV_TYPE_TOP) {\n\t\t\tstyle.marginRight = -widthOffset\n\t\t\tstyle.marginLeft = -widthOffset\n\t\t\tstyle.paddingLeft = 0\n\t\t\tstyle.paddingRight = 0\n\t\t}\n\t\treturn style\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\tclassName={`page-header-alt ${className ? className : ''} ${overlap && 'overlap'}`} \n\t\t\tstyle={getStyle()}\n\t\t>\n\t\t\t{navType === NAV_TYPE_TOP ? <div className=\"container\">{children}</div> : <>{children}</>}\n\t\t</div>\n\t)\n}\n\nPageHeaderAlt.propTypes = {\n  children: PropTypes.node,\n\tbackground: PropTypes.string,\n\tclassName: PropTypes.string,\n\toverlap: PropTypes.bool\n};\n\nconst mapStateToProps = ({ theme }) => {\n  const { navType } =  theme;\n  return { navType }\n};\n\nexport default connect(mapStateToProps, {})(PageHeaderAlt);","import React, { Component } from \"react\";\nimport { Upload, Alert, message } from 'antd';\nimport { Spin, Button, Input } from 'antd';\nimport { uploadFoto, insertFotoECommerce, uploadFotoECommerce, getFoto } from 'configs/axios/chiamate_axios'\nimport { storageRef } from 'auth/FirebaseAuth'\nimport Swal from 'sweetalert2';\n\nexport default class UploadImages extends Component {\n  constructor(props) {\n    super(props);\n    this.selectFiles = this.selectFiles.bind(this);\n    this.uploadImages = this.uploadImages.bind(this);\n    this.state = {\n      selectedFiles: undefined,\n      previewImages: [],\n      vettoreFoto: [],\n      inserita: false,\n      upload_completo: false,\n      caricamento: false,\n      vettore_foto_old: [],\n      vettore_foto_old_2: [],\n      indiceColore: [],\n      cancellazione: false,\n      upload_completo_cancellazione: false,\n      position_state: [],\n      enable_loop: true,\n      listaFoto: []\n    };\n  }\n\n  componentDidMount() {\n    getFoto(res => {\n      this.setState({ listaFoto: res })\n      console.log(\"vettoreFotogiàpresenti\", res)\n      if (res.length != 0) {\n        if (res[0].home_1 != null) {\n          this.setState({\n            vettore_foto_old: [{\n              uid: 0,\n              name: 0,\n              status: 'done',\n              url: res[0].home_1\n            }]\n          }, () => {\n            console.log(this.state.vettore_foto_old)\n          })\n        }\n\n        if (res[0].home_2 != null) {\n          this.setState({\n            vettore_foto_old_2: [{\n              uid: 1,\n              name: 1,\n              status: 'done',\n              url: res[0].home_2\n            }]\n          }, () => {\n            console.log(this.state.vettore_foto_old_2)\n          })\n        }\n      }\n    })\n\n  }\n\n  selectFiles(event) {\n    let images = [];\n    var img = []\n    let position = []\n\n    for (let i = 0; i < event.target.files.length; i++) {\n      images.push(URL.createObjectURL(event.target.files[i]))\n      img.push(document.createElement('img'))\n    }\n\n    this.setState({\n      selectedFiles: event.target.files,\n      previewImages: images,\n      cancellazione: false\n    }, () => {\n      for (let i = 0; i < this.state.selectedFiles.length; i++) {\n        img[i].src = this.state.previewImages[i];\n        img[i].onload = () => {\n          console.log(\"dentro img\", img[i])\n          console.log(\"NEW IMAGE width\", img[i].width);\n          console.log(\"NEW IMAGE height: \", img[i].height);\n          if (img[i].width < 700 || img[i].height < 724) {\n            position.push(i)\n          }\n        }\n      }\n      let appoggio = []\n      for (let i = 0; i < this.state.selectedFiles.length; i++) {\n        appoggio.push({\n          uid: i,\n          name: this.state.selectedFiles[i].name,\n          status: 'done',\n          url: this.state.previewImages[i]\n        })\n      }\n      this.setState({ vettoreFoto: appoggio, position_state: position })\n    });\n  }\n\n  uploadImages() {\n    let appoggio_selected_files = []\n    let appoggio_selected_files_chosen = []\n    for (let i = 0; i < this.state.selectedFiles.length; i++) {\n      appoggio_selected_files.push(this.state.selectedFiles[i].name)\n    }\n    console.log(\"posizione della foto errata: \", this.state.position_state)\n\n    if (this.state.position_state.length != 0) {\n      console.log(this.state.selectedFiles)\n      console.log(this.state.position_state)\n\n      if (this.state.position_state.length == 1) {\n        Swal.fire({\n          icon: 'error',\n          title: 'Errore!',\n          text: `La foto ` + this.state.selectedFiles[0].name + ` non rispetta la risoluzione. Non è stato possibile caricare le foto. Rimuoverla o modificare la risoluzione della foto in questione`\n        })\n      }\n    }\n    else {\n      this.setState({ caricamento: true })\n      setTimeout(() => {\n        if (this.state.caricamento == true) {\n          this.setState({ caricamento: false })\n          clearTimeout()\n          Swal.fire({\n            icon: 'error',\n            title: 'Errore di rete!',\n            text: `Qualcosa è andato storto nel caricamento delle foto! Riprova.`\n          })\n        }\n      }, 10 * 1000);\n\n\n      Array.from(this.state.selectedFiles).forEach(file => {\n        storageRef\n          .child(`/${Date.now()}-${file.name}`)\n          .put(file).then((snapshot) => {\n            console.log(\"mazzeo merda\", snapshot.ref.getDownloadURL())\n            snapshot.ref.getDownloadURL().then((downloadURL) => {\n              console.log('File available at', downloadURL);\n              //console.log(\"cont\", cont)\n              console.log(\"new foto len\", this.state.selectedFiles.length)\n              console.log(\"old foto len\", this.state.vettore_foto_old)\n              //if (cont.length == this.state.selectedFiles.length + this.state.vettoreFotoOld.length) {\n              console.log(\"INDICE\", this.props.indice)\n              if (this.state.vettore_foto_old.length == 0 && !this.state.inserita && this.state.vettore_foto_old_2.length == 0) {\n                //se sto qui significa che devo fare la insert\n                insertFotoECommerce(downloadURL, \"home_1\", res => {\n                  if (res.status = 200) {\n                    this.setState({ inserita: true, caricamento: false, upload_completo: true })\n                    Swal.fire(\n                      'Completato!',\n                      'La foto numero 1 è stata inserita correttamente!',\n                      'success'\n                    )\n                    getFoto(res => {\n                      this.setState({ listaFoto: res })\n                      console.log(\"vettoreFotogiàpresenti\", res)\n                      if (res.length != 0) {\n                        if (res[0].home_1 != null) {\n                          this.setState({\n                            vettore_foto_old: [{\n                              uid: 0,\n                              name: 0,\n                              status: 'done',\n                              url: res[0].home_1\n                            }]\n                          }, () => {\n                            console.log(this.state.vettore_foto_old)\n                          })\n                        }\n\n                        if (res[0].home_2 != null) {\n                          this.setState({\n                            vettore_foto_old_2: [{\n                              uid: 1,\n                              name: 1,\n                              status: 'done',\n                              url: res[0].home_2\n                            }]\n                          }, () => {\n                            console.log(this.state.vettore_foto_old_2)\n                          })\n                        }\n                      }\n                    })\n                  }\n                  console.log(res)\n                })\n              }\n              else {\n                uploadFotoECommerce(downloadURL, \"home_1\", res => {\n                  if (res.status = 200) {\n                    this.setState({ inserita: true, caricamento: false, upload_completo: true })\n                    Swal.fire(\n                      'Completato!',\n                      'La foto numero 1 è stata modificata correttamente!',\n                      'success'\n                    )\n                    getFoto(res => {\n                      this.setState({ listaFoto: res })\n                      console.log(\"vettoreFotogiàpresenti\", res)\n                      if (res.length != 0) {\n                        if (res[0].home_1 != null) {\n                          this.setState({\n                            vettore_foto_old: [{\n                              uid: 0,\n                              name: 0,\n                              status: 'done',\n                              url: res[0].home_1\n                            }]\n                          }, () => {\n                            console.log(this.state.vettore_foto_old)\n                          })\n                        }\n\n                        if (res[0].home_2 != null) {\n                          this.setState({\n                            vettore_foto_old_2: [{\n                              uid: 1,\n                              name: 1,\n                              status: 'done',\n                              url: res[0].home_2\n                            }]\n                          }, () => {\n                            console.log(this.state.vettore_foto_old_2)\n                          })\n                        }\n                      }\n                    })\n                  }\n                  console.log(res)\n                })\n              }\n              // }\n            });\n          })\n      });\n  \n    }\n  }\n\n\n  render() {\n    const { selectedFiles, previewImages } = this.state;\n    return (\n\n      <div>\n        <div>\n          {this.state.vettore_foto_old.length != 0 &&\n\n            <div>\n              <div className=\"clearfix\">\n                <Alert message=\"Foto attualmente presenti\" type=\"info\" showIcon />\n\n                <Upload\n                  listType=\"picture-card\"\n                  fileList={this.state.vettore_foto_old}\n                  onChange={this.handleChange}\n                >\n                </Upload>\n              </div>\n            </div>\n          }\n\n          {!this.state.upload_completo ?\n            <div className=\"row\">\n\n              <div className=\"col-8\">\n                <label className=\"btn btn-default p-0\">\n                  <Input type=\"file\" accept=\"image/*\" onChange={this.selectFiles} />\n                </label>\n              </div>\n\n              {previewImages && (\n                <div>\n                  <div className=\"clearfix\">\n                    <Upload\n                      listType=\"picture-card\"\n                      fileList={this.state.vettoreFoto}\n                    >\n                    </Upload>\n\n                  </div>\n                  <div className=\"col-4\">\n                    <Button\n                      className=\"btn btn-success btn-sm\"\n                      disabled={!selectedFiles}\n                      onClick={this.uploadImages}\n                    >\n                      Carica foto\n                    </Button>\n                  </div>\n                </div>\n              )}\n\n              {this.state.caricamento == true &&\n                <Spin />\n              }\n            </div>\n            :\n            <Alert\n              message=\"Upload avvenuto con successo!\"\n              description=\"Le modifiche sono state effettuate correttamente.\"\n              type=\"success\"\n              showIcon\n            />\n          }\n        </div>\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Upload, Alert, message } from 'antd';\nimport { Spin, Button, Input } from 'antd';\nimport { uploadFoto, insertFotoECommerce, uploadFotoECommerce, getFoto } from 'configs/axios/chiamate_axios'\nimport { storageRef } from 'auth/FirebaseAuth'\nimport Swal from 'sweetalert2';\n\nexport default class UploadImagesHome2 extends Component {\n  constructor(props) {\n    super(props);\n    this.selectFiles = this.selectFiles.bind(this);\n    this.uploadImages = this.uploadImages.bind(this);\n    this.state = {\n      selectedFiles: undefined,\n      previewImages: [],\n      vettoreFoto: [],\n      inserita: false,\n      upload_completo: false,\n      caricamento: false,\n      vettore_foto_old: [],\n      vettore_foto_old_2: [],\n      indiceColore: [],\n      cancellazione: false,\n      upload_completo_cancellazione: false,\n      position_state: [],\n      enable_loop: true,\n      listaFoto: []\n    };\n  }\n\n  componentDidMount() {\n    getFoto(res => {\n      this.setState({ listaFoto: res })\n      console.log(\"vettoreFotogiàpresenti\", res)\n      if (res.length != 0) {\n        if (res[0].home_2 == null && res[0].home_1 != null) {\n          this.setState({\n            vettore_foto_old: [{\n              uid: 0,\n              name: 0,\n              status: 'done',\n              url: res[0].home_2\n            }]\n          }, () => {\n            console.log(this.state.vettore_foto_old)\n          })\n        }\n\n        else if (res[0].home_2 != null) {\n          this.setState({\n            vettore_foto_old_2: [{\n              uid: 0,\n              name: 0,\n              status: 'done',\n              url: res[0].home_2\n            }]\n          }, () => {\n            console.log(this.state.vettore_foto_old_2)\n          })\n        }\n\n      }\n    })\n\n  }\n\n  selectFiles(event) {\n    let images = [];\n    var img = []\n    let position = []\n\n    for (let i = 0; i < event.target.files.length; i++) {\n      images.push(URL.createObjectURL(event.target.files[i]))\n      img.push(document.createElement('img'))\n    }\n\n    this.setState({\n      selectedFiles: event.target.files,\n      previewImages: images,\n      cancellazione: false\n    }, () => {\n      for (let i = 0; i < this.state.selectedFiles.length; i++) {\n        img[i].src = this.state.previewImages[i];\n        img[i].onload = () => {\n          console.log(\"dentro img\", img[i])\n          console.log(\"NEW IMAGE width\", img[i].width);\n          console.log(\"NEW IMAGE height: \", img[i].height);\n          if (img[i].width < 700 || img[i].height < 724) {\n            position.push(i)\n          }\n        }\n      }\n      let appoggio = []\n      for (let i = 0; i < this.state.selectedFiles.length; i++) {\n        appoggio.push({\n          uid: i,\n          name: this.state.selectedFiles[i].name,\n          status: 'done',\n          url: this.state.previewImages[i]\n        })\n      }\n      this.setState({ vettoreFoto: appoggio, position_state: position })\n    });\n  }\n\n  uploadImages() {\n    let appoggio_selected_files = []\n    let appoggio_selected_files_chosen = []\n    for (let i = 0; i < this.state.selectedFiles.length; i++) {\n      appoggio_selected_files.push(this.state.selectedFiles[i].name)\n    }\n    console.log(\"posizione della foto errata: \", this.state.position_state)\n\n    if (this.state.position_state.length != 0) {\n      console.log(this.state.selectedFiles)\n      console.log(this.state.position_state)\n\n      if (this.state.position_state.length == 1) {\n        Swal.fire({\n          icon: 'error',\n          title: 'Errore!',\n          text: `La foto ` + this.state.selectedFiles[0].name + ` non rispetta la risoluzione. Non è stato possibile caricare le foto. Rimuoverla o modificare la risoluzione della foto in questione`\n        })\n      }\n    }\n    else {\n      this.setState({ caricamento: true })\n      setTimeout(() => {\n        if (this.state.caricamento == true) {\n          this.setState({ caricamento: false })\n          clearTimeout()\n          Swal.fire({\n            icon: 'error',\n            title: 'Errore di rete!',\n            text: `Qualcosa è andato storto nel caricamento delle foto! Riprova.`\n          })\n        }\n      }, 10 * 1000);\n\n      Array.from(this.state.selectedFiles).forEach(file => {\n        storageRef\n          .child(`/${Date.now()}-${file.name}`)\n          .put(file).then((snapshot) => {\n            console.log(\"mazzeo merda\", snapshot.ref.getDownloadURL())\n            snapshot.ref.getDownloadURL().then((downloadURL) => {\n              console.log('File available at', downloadURL);\n\n              console.log(\"new foto len\", this.state.selectedFiles.length)\n              console.log(\"old foto len\", this.state.vettore_foto_old)\n              console.log(\"INDICE\", this.props.indice)\n              if (this.state.vettore_foto_old.length == 0 && !this.state.inserita && this.state.vettore_foto_old_2.length == 0) {\n                insertFotoECommerce(downloadURL, \"home_2\", res => {\n                  if (res.status = 200) {\n                    this.setState({ inserita: true, caricamento: false, upload_completo: true })\n                    Swal.fire(\n                      'Completato!',\n                      'La foto numero 1 è stata inserita correttamente!',\n                      'success'\n                    )\n                    getFoto(res => {\n                      this.setState({ listaFoto: res })\n                      console.log(\"vettoreFotogiàpresenti\", res)\n                      if (res.length != 0) {\n                        if (res[0].home_1 != null) {\n                          this.setState({\n                            vettore_foto_old: [{\n                              uid: 0,\n                              name: 0,\n                              status: 'done',\n                              url: res[0].home_1\n                            }]\n                          }, () => {\n                            console.log(this.state.vettore_foto_old)\n                          })\n                        }\n\n                        if (res[0].home_2 != null) {\n                          this.setState({\n                            vettore_foto_old_2: [{\n                              uid: 1,\n                              name: 1,\n                              status: 'done',\n                              url: res[0].home_2\n                            }]\n                          }, () => {\n                            console.log(this.state.vettore_foto_old_2)\n                          })\n                        }\n                      }\n                    })\n                  }\n                  console.log(res)\n                })\n              }\n              else {\n                uploadFotoECommerce(downloadURL, \"home_2\", res => {\n                  if (res.status = 200) {\n                    this.setState({ inserita: true, caricamento: false, upload_completo: true })\n                    Swal.fire(\n                      'Completato!',\n                      'La foto numero 1 è stata modificata correttamente!',\n                      'success'\n                    )\n                    getFoto(res => {\n                      this.setState({ listaFoto: res })\n                      console.log(\"vettoreFotogiàpresenti\", res)\n                      if (res.length != 0) {\n                        if (res[0].home_1 != null) {\n                          this.setState({\n                            vettore_foto_old: [{\n                              uid: 0,\n                              name: 0,\n                              status: 'done',\n                              url: res[0].home_1\n                            }]\n                          }, () => {\n                            console.log(this.state.vettore_foto_old)\n                          })\n                        }\n\n                        if (res[0].home_2 != null) {\n                          this.setState({\n                            vettore_foto_old_2: [{\n                              uid: 1,\n                              name: 1,\n                              status: 'done',\n                              url: res[0].home_2\n                            }]\n                          }, () => {\n                            console.log(this.state.vettore_foto_old_2)\n                          })\n                        }\n                      }\n                    })\n                  }\n                  console.log(res)\n                })\n              }\n            });\n          })\n      });\n\n    }\n  }\n\n\n  render() {\n    const { selectedFiles, previewImages } = this.state;\n    return (\n\n      <div>\n        <div>\n          {this.state.vettore_foto_old_2.length != 0 &&\n\n            <div>\n              <div className=\"clearfix\">\n                <Alert message=\"Foto attualmente presenti\" type=\"info\" showIcon />\n\n                <Upload\n                  listType=\"picture-card\"\n                  fileList={this.state.vettore_foto_old_2}\n                >\n                </Upload>\n              </div>\n            </div>\n          }\n\n          {!this.state.upload_completo ?\n            <div className=\"row\">\n\n              <div className=\"col-8\">\n                <label className=\"btn btn-default p-0\">\n                  <Input type=\"file\" accept=\"image/*\" onChange={this.selectFiles} />\n                </label>\n              </div>\n\n              {previewImages && (\n                <div>\n                  <div className=\"clearfix\">\n                    <Upload\n                      listType=\"picture-card\"\n                      fileList={this.state.vettoreFoto}\n                    >\n                    </Upload>\n\n                  </div>\n                  <div className=\"col-4\">\n                    <Button\n                      className=\"btn btn-success btn-sm\"\n                      disabled={!selectedFiles}\n                      onClick={this.uploadImages}\n                    >\n                      Carica foto\n                    </Button>\n                  </div>\n                </div>\n              )}\n\n              {this.state.caricamento == true &&\n                <Spin />\n              }\n            </div>\n            :\n            <Alert\n              message=\"Upload avvenuto con successo!\"\n              description=\"Le modifiche sono state effettuate correttamente.\"\n              type=\"success\"\n              showIcon\n            />\n          }\n        </div>\n\n      </div>\n    );\n  }\n}\n","import React, { useState, useEffect } from 'react'\nimport { Card, Table, Select, Input, Button, Badge, Menu, Upload, Tabs } from 'antd';\nimport { getFoto } from 'configs/axios/chiamate_axios'\nimport Swal from 'sweetalert2';\nimport UploadImages from './PhotoComponent/UploadImages'\nimport Flex from 'components/shared-components/Flex'\nimport PageHeaderAlt from 'components/layout-components/PageHeaderAlt'\nimport UploadImagesHome2 from './PhotoComponent/UploadImages2'\nconst { TabPane } = Tabs;\n\nconst HandleImages = () => {\n\n\tuseEffect(() => {\n\n\t}, []);\n\n\n\treturn (\n\t\t<div>\n\t\t\t<PageHeaderAlt className=\"border-bottom\" overlap>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<Flex className=\"py-2\" mobileFlex={false} justifyContent=\"between\" alignItems=\"center\">\n\t\t\t\t\t\t<h2 className=\"mb-3\">{\"Modifica qui le tue foto\"} </h2>\n\t\t\t\t\t\t<div className=\"mb-3\">\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Flex>\n\t\t\t\t</div>\n\t\t\t</PageHeaderAlt>\n\t\t\t<Tabs defaultActiveKey=\"1\" style={{ marginTop: 30 }}>\n\n\t\t\t\t<TabPane tab={\"Home_1\"} key={1}>\n\t\t\t\t\t<UploadImages />\n\t\t\t\t</TabPane>\n\n\t\t\t\t<TabPane tab={\"Home_2\"} key={2}>\n\t\t\t\t\t<UploadImagesHome2 />\n\t\t\t\t</TabPane>\n\t\t\t</Tabs>\n\t\t</div>\n\t)\n}\n\nexport default HandleImages;\n"],"sourceRoot":""}