{"version":3,"sources":["configs/IP.js","configs/axios/chiamate_axios.js","components/shared-components/AvatarStatus/index.js","views/app-views/home/index.js"],"names":["IP","createToken","a","user","firebase","auth","currentUser","getIdToken","token","payloadHeader","headers","uploadFoto","id","indice","vettore_url","callback","header","axios","post","url","then","response","console","log","data","catch","err","deleteTmp","get","getListaProdotti","ls","set","getAcquistiTmp","getAcquisti","all_prodotti","res","filtraggio","i","length","j","idArticolo","idArticoloAcquistato","push","idAcquisto","name","nome","cognome","image","date","dataAcquisto","split","amount","totalePrezzo","numeroacquisti","numeroAcquisti","orderStatus","stato","colore","coloriDisp","indiceColore","color","nomearticolo","nomeArticolo","articoloCompleto","tracking","nrtracking","idordine","personalizzazione","insertArticolo","values","updateArticolo","foto","put","lista_foto","getFoto","getOrdiniOdierni","appoggio","Nome","Cognome","articolo","numero_acquisti","emailAcquirente","topAcquisti","periodo","category","categoria","sales","sum","status","venduti","numerototaleacquisti","updateTracking","track","confermaTracking","insertFotoECommerce","colonna","colonna_db","uploadFotoECommerce","renderAvatar","props","className","type","text","AvatarStatus","suffix","subTitle","src","icon","size","shape","gap","onNameClick","onClick","Option","Select","tableColumns","title","dataIndex","key","render","record","style","backgroundColor","avatarColor","utils","getNameInitial","Home","useState","top_acquisti","set_top_acquisti","odierni_acquisti","set_odierni_acquisti","set_all_prodotti","pulisci_tmp","set_pulisci_tmp","useEffect","odierni","temporanei","gutter","xs","sm","md","lg","columns","dataSource","rowKey","pagination","extra","onChange","e","defaultValue","minWidth","value","map","elm","justifyContent","alignItems","prefix","thousandSeparator","displayType","cancellati","disabled"],"mappings":"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","file":"static/js/12.f0628b5e.chunk.js","sourcesContent":["export const IP = 'https://arredobimbo.com:8443';\n\n//export const IP = 'https://studio-manudaniel.ddns.net:8443';\n\n\n\n","import axios from \"axios\"\nimport { IP } from 'configs/IP';\nimport ls from 'local-storage'\n\nimport firebase from 'firebase/app';\n\nconst createToken = async () => {\n    const user = firebase.auth().currentUser;\n    const token = user && (await user.getIdToken());\n    const payloadHeader = {\n        headers: {\n            \"Authorization\": \"Bearer \" + token,\n        },\n    };\n    return payloadHeader;\n}\n\nconst uploadFoto = async function (id, indice, vettore_url, callback) {\n    const header = await createToken();\n    axios.post(IP + \"/uploadFoto\", { url: vettore_url, id: id, indice: indice }, header)\n        .then(response => {\n            console.log(\"vettore_url\",vettore_url)\n            callback(response.data, vettore_url);\n        }).catch(err => {\n            console.log(err);\n        })\n}\n\nconst deleteTmp = async function (callback) {\n    const header = await createToken();\n    axios.get(IP + '/delete-tmp', header).then(response => {\n        callback(response.data);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst getListaProdotti = async function (callback) {\n    const header = await createToken();\n    axios.get(IP + '/lista-prodotti-dashboard', header).then(response => {\n        ls.set('lista_prodotti', response.data)\n        callback(response.data);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst getAcquistiTmp = async function (callback) {\n    const header = await createToken();\n    axios.get(IP + '/acquisti-tmp', header).then(response => {\n        callback(response.data);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\n\nconst getAcquisti = async function (all_prodotti, callback) {\n    const header = await createToken();\n    axios.get(IP + '/lista-acquisti', header).then(res => {\n        let filtraggio = []\n        for (let i = 0; i < res.data.length; i++) {\n            for (let j = 0; j < all_prodotti.length; j++) {\n                if (all_prodotti[j].idArticolo == res.data[i].idArticoloAcquistato) {\n                    filtraggio.push({\n                        id: res.data[i].idAcquisto,\n                        name: res.data[i].nome + \" \" + res.data[i].cognome,\n                        image: '',\n                        date: res.data[i].dataAcquisto.split(\"T\")[0],\n                        amount: res.data[i].totalePrezzo,\n                        numeroacquisti: res.data[i].numeroAcquisti,\n                        orderStatus: res.data[i].stato,\n                        colore: all_prodotti[j].coloriDisp[res.data[i].indiceColore].color,\n                        nomearticolo: res.data[i].nomeArticolo,\n                        articoloCompleto: res.data[i],\n                        tracking: res.data[i].nrtracking,\n                        idordine: res.data[i].idordine,\n                        personalizzazione: res.data[i].personalizzazione\n                    })\n                    if (i == res.data.length - 1) {\n                        callback(filtraggio)\n                    }\n                }\n            }\n        }\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst insertArticolo = async function (values, callback) {\n    const header = await createToken();\n    axios.post(IP + '/insertArticoli', values, header).then(response => {\n        callback(response);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst updateArticolo = async function (idArticolo, foto, values, callback) {\n    const header = await createToken();\n    axios.put(IP + '/updateArticolo', { id: idArticolo, lista_foto: foto, values: values }, header).then(response => {\n        callback(response);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst getFoto = async function (callback) {\n    const header = await createToken();\n    axios.get(IP + '/lista-foto', header).then(response => {\n        callback(response.data);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst getOrdiniOdierni = async function (all_prodotti, callback) {\n    const header = await createToken();\n    axios.get(IP + '/ordini-odierni', header).then(response => {\n        let appoggio = []\n        if (response.data.length != 0) {\n            for (let i = 0; i < response.data.length; i++) {\n                for (let j = 0; j < all_prodotti.length; j++) {\n                    if (all_prodotti[j].idArticolo === response.data[i].idArticoloAcquistato) {\n                        if (response.data.Nome != null && response.data.Cognome != null) {\n                            appoggio.push({\n                                id: i,\n                                name: response.data[i].Nome + ' ' + response.data[i].Cognome,\n                                amount: response.data[i].totalePrezzo,\n                                articolo: all_prodotti[j].nomeArticolo,\n                                numero_acquisti: response.data[i].numeroAcquisti\n                            })\n                        } else {\n                            appoggio.push({\n                                id: i,\n                                name: response.data[i].emailAcquirente,\n                                amount: response.data[i].totalePrezzo,\n                                articolo: all_prodotti[j].nomeArticolo,\n                                numero_acquisti: response.data[i].numeroAcquisti\n                            })\n                        }\n                        if (i == response.data.length - 1) {\n                            callback(appoggio);\n                        }\n                    }\n                }\n            }\n        } else {\n            callback(appoggio);\n        }\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst topAcquisti = async function (all_prodotti, data, callback) {\n    const header = await createToken();\n    axios.post(IP + '/top-acquisti', { periodo: data }, header).then(response => {\n        let filtraggio = []\n        if (response.data.length != 0) {\n            for (let i = 0; i < response.data.length; i++) {\n                for (let j = 0; j < all_prodotti.length; j++) {\n                    if (all_prodotti[j].idArticolo == response.data[i].idArticoloAcquistato) {\n                        if (all_prodotti[j].coloriDisp[response.data[i].indiceColore].image.length == 0) {\n                            filtraggio.push({\n                                name: all_prodotti[j].nomeArticolo,\n                                image: '',\n                                category: all_prodotti[j].categoria,\n                                sales: response.data[i].sum,\n                                status: 'up',\n                                venduti: response.data[i].numerototaleacquisti\n                            })\n\n                        } else {\n                            filtraggio.push({\n                                name: all_prodotti[j].nomeArticolo,\n                                image: all_prodotti[j].coloriDisp[response.data[i].indiceColore].image[0],\n                                category: all_prodotti[j].categoria,\n                                sales: response.data[i].sum,\n                                status: 'up',\n                                venduti: response.data[i].numerototaleacquisti\n                            })\n                        }\n                        if (i == response.data.length - 1) {\n                            callback(filtraggio);\n                        }\n                    }\n                }\n            }\n        } else {\n            callback(filtraggio);\n        }\n\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst updateTracking = async function (track, id, callback) {\n    const header = await createToken();\n    axios.put(IP + '/update-tracking', { tracking: track, indice: id }, header).then(response => {\n        callback(response);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\n\nconst confermaTracking = async function (id, callback) {\n    const header = await createToken();\n\n    axios.put(IP + '/conferma-tracking', { indice: id }, header).then(response => {\n        callback(response);\n    }).catch(err => {\n        console.log(err);\n    })\n}\n\nconst insertFotoECommerce = async function (url, colonna, callback) {\n    const header = await createToken();\n\n    axios.post(IP + \"/insert-foto-ecommerce\", { url: url, colonna_db: colonna }, header)\n        .then(response => {\n            callback(response);\n        }).catch(err => {\n            console.log(err);\n        })\n}\n\nconst uploadFotoECommerce = async function (url, colonna, callback) {\n    const header = await createToken();\n\n    axios.put(IP + \"/upload-foto-ecommerce\", { url: url, colonna_db: colonna }, header)\n        .then(response => {\n            callback(response.data);\n        }).catch(err => {\n            console.log(err);\n        })\n}\n\nexport {\n    uploadFoto,\n    getListaProdotti,\n    getAcquisti,\n    updateArticolo,\n    insertArticolo,\n    getFoto,\n    getOrdiniOdierni,\n    topAcquisti,\n    updateTracking,\n    confermaTracking,\n    insertFotoECommerce,\n    uploadFotoECommerce,\n    getAcquistiTmp,\n    deleteTmp\n}","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { Avatar } from 'antd';\n\nconst renderAvatar = props => {\n\treturn <Avatar {...props} className={`ant-avatar-${props.type}`}>{props.text}</Avatar>;\n}\n\nexport const AvatarStatus = props => {\n\tconst { name, suffix, subTitle, id, type, src, icon, size, shape, gap, text, onNameClick } = props\n\treturn (\n\t\t<div className=\"avatar-status d-flex align-items-center\">\n\t\t\t{renderAvatar({icon, src, type, size, shape, gap, text })}\n\t\t\t<div className=\"ml-2\">\n\t\t\t\t<div>\n\t\t\t\t\t{\n\t\t\t\t\t\tonNameClick ? \n\t\t\t\t\t\t<div onClick={() => onNameClick({name, subTitle, src, id})} className=\"avatar-status-name clickable\">{name}</div> \n\t\t\t\t\t\t:\n\t\t\t\t\t\t<div className=\"avatar-status-name\">{name}</div>\n\t\t\t\t\t}\n\t\t\t\t\t<span>{suffix}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text-muted avatar-status-subtitle\">{subTitle}</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nAvatarStatus.propTypes = {\n\tname: PropTypes.string,\n\tsrc: PropTypes.string,\n\ttype: PropTypes.string,\n\tonNameClick: PropTypes.func\n}\n\n\nexport default AvatarStatus;\n","import React, { useState, useEffect } from 'react'\nimport { Row, Col, Button, Card, Avatar, Dropdown, Table, Tag, Select, Badge } from 'antd';\nimport utils from 'utils';\nimport Flex from 'components/shared-components/Flex'\nimport AvatarStatus from 'components/shared-components/AvatarStatus';\nimport NumberFormat from 'react-number-format';\nimport { getListaProdotti, topAcquisti, getOrdiniOdierni, getAcquistiTmp, deleteTmp } from 'configs/axios/chiamate_axios'\nimport {\n\tCloudDownloadOutlined,\n\tArrowUpOutlined,\n\tArrowDownOutlined,\n\tUserSwitchOutlined,\n\tFileDoneOutlined,\n\tSyncOutlined,\n\tBarChartOutlined\n} from '@ant-design/icons';\nimport { Value } from 'devextreme-react/range-selector';\nimport { Document, Page, pdfjs } from 'react-pdf';\n\nconst { Option } = Select;\n\nconst tableColumns = [\n\t{\n\t\ttitle: 'Cliente',\n\t\tdataIndex: 'name',\n\t\tkey: 'name',\n\t\trender: (text, record) => (\n\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t<Avatar size={30} className=\"font-size-sm\" style={{ backgroundColor: record.avatarColor }}>\n\t\t\t\t\t{utils.getNameInitial(text)}\n\t\t\t\t</Avatar>\n\t\t\t\t<span className=\"ml-2\">{text}</span>\n\t\t\t</div>\n\t\t),\n\t},\n\t{\n\t\ttitle: 'Articolo acquistato',\n\t\tdataIndex: 'articolo',\n\t\tkey: 'articolo',\n\t},\n\t{\n\t\ttitle: 'Spesa effettuata',\n\t\tdataIndex: 'amount',\n\t\tkey: 'amount',\n\t},\n\t{\n\t\ttitle: 'Numero acquisti',\n\t\tdataIndex: 'numero_acquisti',\n\t\tkey: 'numero_acquisti',\n\t},\n];\n\n\nconst Home = () => {\n\tconst [numPages] = useState(1);\n\tconst [pageNumber, setPageNumber] = useState(1);\n\n\tconst [top_acquisti, set_top_acquisti] = useState([])\n\tconst [odierni_acquisti, set_odierni_acquisti] = useState([])\n\tconst [all_prodotti, set_all_prodotti] = useState([])\n\tconst [pulisci_tmp, set_pulisci_tmp] = useState([])\n\n\tuseEffect(() => {\n\t\tgetListaProdotti(res => {\n\t\t\tconsole.log(\"lista-prodotti-dashboard\", res)\n\t\t\tset_all_prodotti(res)\n\t\t\ttopAcquisti(res, 'week', top_acquisti => {\n\t\t\t\tconsole.log(\"top-acquisti : \", top_acquisti)\n\t\t\t\tgetOrdiniOdierni(res, odierni => {\n\t\t\t\t\tset_top_acquisti(top_acquisti)\n\t\t\t\t\tset_odierni_acquisti(odierni)\n\t\t\t\t\tconsole.log(\"ordini odierni\", odierni)\n\t\t\t\t\tgetAcquistiTmp(temporanei => {\n\t\t\t\t\t\tconsole.log(\"acquisti temporanei\", temporanei)\n\t\t\t\t\t\tset_pulisci_tmp(temporanei)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t}, []);\n\n\tconst onChange = (e) => {\n\t\t//console.log(e)\n\t\tset_top_acquisti([])\n\t\ttopAcquisti(all_prodotti, e, top_acquisti => {\n\t\t\tset_top_acquisti(top_acquisti)\n\t\t})\n\t}\n\n\tconst delete_tmp = () => {\n\t\tdeleteTmp(cancellati => {\n\t\t\tif (cancellati === \"ELIMINATI\") {\n\t\t\t\tset_pulisci_tmp([])\n\t\t\t}\n\t\t})\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Row gutter={16}>\n\t\t\t\t<Col xs={24} sm={24} md={24} lg={24}>\n\t\t\t\t\t<Card title=\"Ordini del giorno\">\n\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\tclassName=\"no-border-last\"\n\t\t\t\t\t\t\tcolumns={tableColumns}\n\t\t\t\t\t\t\tdataSource={odierni_acquisti}\n\t\t\t\t\t\t\trowKey='id'\n\t\t\t\t\t\t\tpagination={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Card>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row gutter={16}>\n\t\t\t\t<Col xs={18} sm={18} md={18} lg={18}>\n\t\t\t\t\t<Card\n\t\t\t\t\t\ttitle=\"I prodotti più venduti\"\n\t\t\t\t\t\textra={\n\t\t\t\t\t\t\t<Select onChange={onChange} defaultValue=\"week\" size=\"small\" style={{ minWidth: 110 }}>\n\t\t\t\t\t\t\t\t<Option value=\"week\">Questa settimana</Option>\n\t\t\t\t\t\t\t\t<Option value=\"month\">Questo mese</Option>\n\t\t\t\t\t\t\t\t<Option value=\"year\">Questo anno</Option>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{top_acquisti.map(elm => (\n\t\t\t\t\t\t\t<Flex className=\"w-100 py-3\" justifyContent=\"between\" alignItems=\"center\" key={elm.name}>\n\t\t\t\t\t\t\t\t<AvatarStatus shape=\"square\" src={elm.image} name={elm.name} subTitle={elm.category} />\n\t\t\t\t\t\t\t\t<Flex>\n\t\t\t\t\t\t\t\t\t<div className=\"mr-3 text-right\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"mb-0 h5 font-weight-bold\">Guadagno totale / Numero totale venduti</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t<NumberFormat prefix={'Guadagno: €'} value={elm.sales + \"/ Pezzi venduti: \"} thousandSeparator={true} displayType=\"text\" />\n\t\t\t\t\t\t\t\t\t\t\t<NumberFormat prefix={'/ Pezzi venduti: '} value={elm.venduti} thousandSeparator={true} displayType=\"text\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t))}\n\n\t\t\t\t\t</Card>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={6} sm={6} md={6} lg={6}>\n\t\t\t\t\t<Card title=\"Pulizia acquisti incompleti\" >\n\t\t\t\t\t\t{pulisci_tmp.length != 0 ?\n\t\t\t\t\t\t\t<Button onClick={() => delete_tmp()}>Pulisci acquisti incompleti </Button>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Button disabled>Non ci sono acquisti interrotti </Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Card>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</div>\n\n\n\t)\n}\n\nexport default Home\n"],"sourceRoot":""}