{"version":3,"sources":["configs/IP.js","configs/axios/chiamate_axios.js","components/shared-components/AvatarStatus/index.js","views/app-views/home/index.js"],"names":["IP","createToken","a","user","firebase","auth","currentUser","getIdToken","token","payloadHeader","headers","uploadFoto","id","indice","vettore_url","callback","header","axios","post","url","then","response","console","log","data","catch","err","deleteTmp","get","getListaProdotti","ls","set","getAcquistiTmp","getAcquisti","all_prodotti","res","filtraggio","i","length","j","idArticolo","idArticoloAcquistato","push","idAcquisto","name","nome","cognome","image","date","dataAcquisto","split","amount","totalePrezzo","numeroacquisti","numeroAcquisti","orderStatus","stato","colore","coloriDisp","indiceColore","color","nomearticolo","nomeArticolo","articoloCompleto","tracking","nrtracking","idordine","personalizzazione","taglia","insertArticolo","values","updateArticolo","foto","put","lista_foto","getFoto","getOrdiniOdierni","appoggio","Nome","Cognome","articolo","numero_acquisti","emailAcquirente","topAcquisti","periodo","category","categoria","sales","sum","status","venduti","numerototaleacquisti","updateTracking","track","confermaTracking","insertFotoECommerce","colonna","colonna_db","uploadFotoECommerce","renderAvatar","props","className","type","text","AvatarStatus","suffix","subTitle","src","icon","size","shape","gap","onNameClick","onClick","Option","Select","tableColumns","title","dataIndex","key","render","record","style","backgroundColor","avatarColor","utils","getNameInitial","Home","useState","top_acquisti","set_top_acquisti","odierni_acquisti","set_odierni_acquisti","set_all_prodotti","set_pulisci_tmp","useEffect","odierni","temporanei","gutter","xs","sm","md","lg","columns","dataSource","rowKey","pagination","extra","onChange","e","defaultValue","minWidth","value","map","elm","justifyContent","alignItems","prefix","thousandSeparator","displayType"],"mappings":"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","file":"static/js/12.0d6e2dc4.chunk.js","sourcesContent":["//export const IP = 'https://arredobimbo.com:8443';\r\n\r\nexport const IP = 'https://arredobimbo.com:8443';\r\n\r\n//export const IP = 'https://studio-manudaniel.ddns.net:8443'","import axios from \"axios\"\r\nimport { IP } from 'configs/IP';\r\nimport ls from 'local-storage'\r\n\r\nimport firebase from 'firebase/app';\r\n\r\nconst createToken = async () => {\r\n    const user = firebase.auth().currentUser;\r\n    const token = user && (await user.getIdToken());\r\n    const payloadHeader = {\r\n        headers: {\r\n            \"Authorization\": \"Bearer \" + token,\r\n        },\r\n    };\r\n    return payloadHeader;\r\n}\r\n\r\nconst uploadFoto = async function (id, indice, vettore_url, callback) {\r\n    const header = await createToken();\r\n    axios.post(IP + \"/uploadFoto\", { url: vettore_url, id: id, indice: indice }, header)\r\n        .then(response => {\r\n            console.log(\"vettore_url\",vettore_url)\r\n            callback(response.data, vettore_url);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nconst deleteTmp = async function (callback) {\r\n    const header = await createToken();\r\n    axios.get(IP + '/delete-tmp', header).then(response => {\r\n        callback(response.data);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst getListaProdotti = async function (callback) {\r\n    const header = await createToken();\r\n    axios.get(IP + '/lista-prodotti-dashboard', header).then(response => {\r\n        ls.set('lista_prodotti', response.data)\r\n        callback(response.data);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst getAcquistiTmp = async function (callback) {\r\n    const header = await createToken();\r\n    axios.get(IP + '/acquisti-tmp', header).then(response => {\r\n        callback(response.data);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\n\r\nconst getAcquisti = async function (all_prodotti, callback) {\r\n    const header = await createToken();\r\n    axios.get(IP + '/lista-acquisti', header).then(res => {\r\n        let filtraggio = []\r\n        for (let i = 0; i < res.data.length; i++) {\r\n            for (let j = 0; j < all_prodotti.length; j++) {\r\n                if (all_prodotti[j].idArticolo == res.data[i].idArticoloAcquistato) {\r\n                    console.log(res.data[i])\r\n                    filtraggio.push({\r\n                        id: res.data[i].idAcquisto,\r\n                        name: res.data[i].nome + \" \" + res.data[i].cognome,\r\n                        image: '',\r\n                        date: res.data[i].dataAcquisto.split(\"T\")[0],\r\n                        amount: res.data[i].totalePrezzo,\r\n                        numeroacquisti: res.data[i].numeroAcquisti,\r\n                        orderStatus: res.data[i].stato,\r\n                        colore: all_prodotti[j].coloriDisp[res.data[i].indiceColore].color,\r\n                        nomearticolo: res.data[i].nomeArticolo,\r\n                        articoloCompleto: res.data[i],\r\n                        tracking: res.data[i].nrtracking,\r\n                        idordine: res.data[i].idordine,\r\n                        personalizzazione: res.data[i].personalizzazione,\r\n                        taglia: res.data[i].taglia\r\n                    })\r\n                    if (i == res.data.length - 1) {\r\n                        callback(filtraggio)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst insertArticolo = async function (values, callback) {\r\n    const header = await createToken();\r\n    axios.post(IP + '/insertArticoli', values, header).then(response => {\r\n        callback(response);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst updateArticolo = async function (idArticolo, foto, values, callback) {\r\n    const header = await createToken();\r\n    axios.put(IP + '/updateArticolo', { id: idArticolo, lista_foto: foto, values: values }, header).then(response => {\r\n        callback(response);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst getFoto = async function (callback) {\r\n    const header = await createToken();\r\n    axios.get(IP + '/lista-foto', header).then(response => {\r\n        callback(response.data);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst getOrdiniOdierni = async function (all_prodotti, callback) {\r\n    const header = await createToken();\r\n    axios.get(IP + '/ordini-odierni', header).then(response => {\r\n        let appoggio = []\r\n        if (response.data.length != 0) {\r\n            for (let i = 0; i < response.data.length; i++) {\r\n                for (let j = 0; j < all_prodotti.length; j++) {\r\n                    if (all_prodotti[j].idArticolo === response.data[i].idArticoloAcquistato) {\r\n                        if (response.data.Nome != null && response.data.Cognome != null) {\r\n                            appoggio.push({\r\n                                id: i,\r\n                                name: response.data[i].Nome + ' ' + response.data[i].Cognome,\r\n                                amount: response.data[i].totalePrezzo,\r\n                                articolo: all_prodotti[j].nomeArticolo,\r\n                                numero_acquisti: response.data[i].numeroAcquisti\r\n                            })\r\n                        } else {\r\n                            appoggio.push({\r\n                                id: i,\r\n                                name: response.data[i].emailAcquirente,\r\n                                amount: response.data[i].totalePrezzo,\r\n                                articolo: all_prodotti[j].nomeArticolo,\r\n                                numero_acquisti: response.data[i].numeroAcquisti\r\n                            })\r\n                        }\r\n                        if (i == response.data.length - 1) {\r\n                            callback(appoggio);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            callback(appoggio);\r\n        }\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst topAcquisti = async function (all_prodotti, data, callback) {\r\n    const header = await createToken();\r\n    axios.post(IP + '/top-acquisti', { periodo: data }, header).then(response => {\r\n        let filtraggio = []\r\n        if (response.data.length != 0) {\r\n            for (let i = 0; i < response.data.length; i++) {\r\n                for (let j = 0; j < all_prodotti.length; j++) {\r\n                    if (all_prodotti[j].idArticolo == response.data[i].idArticoloAcquistato) {\r\n                        if (all_prodotti[j].coloriDisp[response.data[i].indiceColore].image.length == 0) {\r\n                            filtraggio.push({\r\n                                name: all_prodotti[j].nomeArticolo,\r\n                                image: '',\r\n                                category: all_prodotti[j].categoria,\r\n                                sales: response.data[i].sum,\r\n                                status: 'up',\r\n                                venduti: response.data[i].numerototaleacquisti\r\n                            })\r\n\r\n                        } else {\r\n                            filtraggio.push({\r\n                                name: all_prodotti[j].nomeArticolo,\r\n                                image: all_prodotti[j].coloriDisp[response.data[i].indiceColore].image[0],\r\n                                category: all_prodotti[j].categoria,\r\n                                sales: response.data[i].sum,\r\n                                status: 'up',\r\n                                venduti: response.data[i].numerototaleacquisti\r\n                            })\r\n                        }\r\n                        if (i == response.data.length - 1) {\r\n                            callback(filtraggio);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            callback(filtraggio);\r\n        }\r\n\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst updateTracking = async function (track, id, callback) {\r\n    const header = await createToken();\r\n    axios.put(IP + '/update-tracking', { tracking: track, indice: id }, header).then(response => {\r\n        callback(response);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\n\r\nconst confermaTracking = async function (id, callback) {\r\n    const header = await createToken();\r\n\r\n    axios.put(IP + '/conferma-tracking', { indice: id }, header).then(response => {\r\n        callback(response);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nconst insertFotoECommerce = async function (url, colonna, callback) {\r\n    const header = await createToken();\r\n\r\n    axios.post(IP + \"/insert-foto-ecommerce\", { url: url, colonna_db: colonna }, header)\r\n        .then(response => {\r\n            callback(response);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nconst uploadFotoECommerce = async function (url, colonna, callback) {\r\n    const header = await createToken();\r\n\r\n    axios.put(IP + \"/upload-foto-ecommerce\", { url: url, colonna_db: colonna }, header)\r\n        .then(response => {\r\n            callback(response.data);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nexport {\r\n    uploadFoto,\r\n    getListaProdotti,\r\n    getAcquisti,\r\n    updateArticolo,\r\n    insertArticolo,\r\n    getFoto,\r\n    getOrdiniOdierni,\r\n    topAcquisti,\r\n    updateTracking,\r\n    confermaTracking,\r\n    insertFotoECommerce,\r\n    uploadFotoECommerce,\r\n    getAcquistiTmp,\r\n    deleteTmp\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { Avatar } from 'antd';\r\n\r\nconst renderAvatar = props => {\r\n\treturn <Avatar {...props} className={`ant-avatar-${props.type}`}>{props.text}</Avatar>;\r\n}\r\n\r\nexport const AvatarStatus = props => {\r\n\tconst { name, suffix, subTitle, id, type, src, icon, size, shape, gap, text, onNameClick } = props\r\n\treturn (\r\n\t\t<div className=\"avatar-status d-flex align-items-center\">\r\n\t\t\t{renderAvatar({icon, src, type, size, shape, gap, text })}\r\n\t\t\t<div className=\"ml-2\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tonNameClick ? \r\n\t\t\t\t\t\t<div onClick={() => onNameClick({name, subTitle, src, id})} className=\"avatar-status-name clickable\">{name}</div> \r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<div className=\"avatar-status-name\">{name}</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<span>{suffix}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"text-muted avatar-status-subtitle\">{subTitle}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAvatarStatus.propTypes = {\r\n\tname: PropTypes.string,\r\n\tsrc: PropTypes.string,\r\n\ttype: PropTypes.string,\r\n\tonNameClick: PropTypes.func\r\n}\r\n\r\n\r\nexport default AvatarStatus;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Row, Col, Button, Card, Avatar, Dropdown, Table, Tag, Select, Badge } from 'antd';\r\nimport utils from 'utils';\r\nimport Flex from 'components/shared-components/Flex'\r\nimport AvatarStatus from 'components/shared-components/AvatarStatus';\r\nimport NumberFormat from 'react-number-format';\r\nimport { getListaProdotti, topAcquisti, getOrdiniOdierni, getAcquistiTmp, deleteTmp } from 'configs/axios/chiamate_axios'\r\nimport {\r\n\tCloudDownloadOutlined,\r\n\tArrowUpOutlined,\r\n\tArrowDownOutlined,\r\n\tUserSwitchOutlined,\r\n\tFileDoneOutlined,\r\n\tSyncOutlined,\r\n\tBarChartOutlined\r\n} from '@ant-design/icons';\r\nimport { Value } from 'devextreme-react/range-selector';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\n\r\nconst { Option } = Select;\r\n\r\nconst tableColumns = [\r\n\t{\r\n\t\ttitle: 'Cliente',\r\n\t\tdataIndex: 'name',\r\n\t\tkey: 'name',\r\n\t\trender: (text, record) => (\r\n\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t<Avatar size={30} className=\"font-size-sm\" style={{ backgroundColor: record.avatarColor }}>\r\n\t\t\t\t\t{utils.getNameInitial(text)}\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<span className=\"ml-2\">{text}</span>\r\n\t\t\t</div>\r\n\t\t),\r\n\t},\r\n\t{\r\n\t\ttitle: 'Articolo acquistato',\r\n\t\tdataIndex: 'articolo',\r\n\t\tkey: 'articolo',\r\n\t},\r\n\t{\r\n\t\ttitle: 'Spesa effettuata',\r\n\t\tdataIndex: 'amount',\r\n\t\tkey: 'amount',\r\n\t},\r\n\t{\r\n\t\ttitle: 'Numero acquisti',\r\n\t\tdataIndex: 'numero_acquisti',\r\n\t\tkey: 'numero_acquisti',\r\n\t},\r\n];\r\n\r\n\r\nconst Home = () => {\r\n\tconst [numPages] = useState(1);\r\n\tconst [pageNumber, setPageNumber] = useState(1);\r\n\r\n\tconst [top_acquisti, set_top_acquisti] = useState([])\r\n\tconst [odierni_acquisti, set_odierni_acquisti] = useState([])\r\n\tconst [all_prodotti, set_all_prodotti] = useState([])\r\n\tconst [pulisci_tmp, set_pulisci_tmp] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetListaProdotti(res => {\r\n\t\t\tconsole.log(\"lista-prodotti-dashboard\", res)\r\n\t\t\tset_all_prodotti(res)\r\n\t\t\ttopAcquisti(res, 'week', top_acquisti => {\r\n\t\t\t\tconsole.log(\"top-acquisti : \", top_acquisti)\r\n\t\t\t\tgetOrdiniOdierni(res, odierni => {\r\n\t\t\t\t\tset_top_acquisti(top_acquisti)\r\n\t\t\t\t\tset_odierni_acquisti(odierni)\r\n\t\t\t\t\tconsole.log(\"ordini odierni\", odierni)\r\n\t\t\t\t\tgetAcquistiTmp(temporanei => {\r\n\t\t\t\t\t\tconsole.log(\"acquisti temporanei\", temporanei)\r\n\t\t\t\t\t\tset_pulisci_tmp(temporanei)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t})\r\n\t}, []);\r\n\r\n\tconst onChange = (e) => {\r\n\t\t//console.log(e)\r\n\t\tset_top_acquisti([])\r\n\t\ttopAcquisti(all_prodotti, e, top_acquisti => {\r\n\t\t\tset_top_acquisti(top_acquisti)\r\n\t\t})\r\n\t}\r\n\r\n\tconst delete_tmp = () => {\r\n\t\tdeleteTmp(cancellati => {\r\n\t\t\tif (cancellati === \"ELIMINATI\") {\r\n\t\t\t\tset_pulisci_tmp([])\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Row gutter={16}>\r\n\t\t\t\t<Col xs={24} sm={24} md={24} lg={24}>\r\n\t\t\t\t\t<Card title=\"Ordini del giorno\">\r\n\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\tclassName=\"no-border-last\"\r\n\t\t\t\t\t\t\tcolumns={tableColumns}\r\n\t\t\t\t\t\t\tdataSource={odierni_acquisti}\r\n\t\t\t\t\t\t\trowKey='id'\r\n\t\t\t\t\t\t\tpagination={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t<Row gutter={16}>\r\n\t\t\t<Col xs={24} sm={24} md={24} lg={24}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\ttitle=\"I prodotti più venduti\"\r\n\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t<Select onChange={onChange} defaultValue=\"week\" size=\"small\" style={{ minWidth: 110 }}>\r\n\t\t\t\t\t\t\t\t<Option value=\"week\">Questa settimana</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"month\">Questo mese</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"year\">Questo anno</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{top_acquisti.map(elm => (\r\n\t\t\t\t\t\t\t<Flex className=\"w-100 py-3\" justifyContent=\"between\" alignItems=\"center\" key={elm.name}>\r\n\t\t\t\t\t\t\t\t<AvatarStatus shape=\"square\" src={elm.image} name={elm.name} subTitle={elm.category} />\r\n\t\t\t\t\t\t\t\t<Flex>\r\n\t\t\t\t\t\t\t\t\t<div className=\"mr-3 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"mb-0 h5 font-weight-bold\">Guadagno totale / Numero totale venduti</span>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t<NumberFormat prefix={'Guadagno: €'} value={elm.sales + \"/ Pezzi venduti: \"} thousandSeparator={true} displayType=\"text\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<NumberFormat prefix={'/ Pezzi venduti: '} value={elm.venduti} thousandSeparator={true} displayType=\"text\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\r\n\r\n\t)\r\n}\r\n\r\nexport default Home\r\n"],"sourceRoot":""}